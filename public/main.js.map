{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/ua-parser-js/src/ua-parser.js","webpack:///./src/apple.js","webpack:///./src/cell.js","webpack:///./src/controls/controlsFactory.js","webpack:///./src/controls/keyboardControls.js","webpack:///./src/game.css","webpack:///./src/game.js","webpack:///./src/gameField.js","webpack:///./src/index.js","webpack:///./src/notificationScreen.js","webpack:///./src/palette.js","webpack:///./src/platformParser.js","webpack:///./src/score.js","webpack:///./src/screen.js","webpack:///./src/snake.js","webpack:///./src/stage.js","webpack:///./src/text.js","webpack:///./src/utils.js"],"names":["Apple","options","apple","render","bgColor","ACCENT","intervalId","window","clearInterval","setInterval","Cell","canvas","col","row","w","h","cell","color","ctx","getContext","x","y","fillStyle","fillRect","strokeStyle","strokeRect","setDefaultColor","ControlsFactory","onSetDirection","controls","init","parser","PlatformParser","create","test","isTouchSupports","KeyboardControls","bootstrap","clear","addEventListeners","bind","e","key","DIRECTIONS","BOTTOM","TOP","RIGHT","LEFT","document","addEventListener","removeEventListener","Game","mp","game","root","score","collision","fps","lastTime","Date","now","setDirection","createGameContainer","createStage","container","createElement","classList","add","append","stage","Stage","onWelcomeScreenClick","startGame","reset","renderSnake","createControls","loop","setMode","GAME_MODES","STARTED","stopGame","fpsInterval","currentTime","elapsedTime","requestedFrame","requestAnimationFrame","update","checkApple","renderStage","move","checkCollisions","snake","cancelAnimationFrame","OVER","cellSize","Snake","head","isEat","grow","updateApple","checkStageCollision","checkSelfCollision","widthInCells","heightInCells","dir","constrols","GameField","width","height","Math","floor","drawField","body","querySelector","NotificationScreen","screen","textContent","textColor","onClick","clickHandler","drawBackground","renderText","text","Text","textAlign","ERROR","MAIN","SECONDARY","THIRDARY","OS","IOS","ANDROID","MAC_OS","uaParser","UAParser","result","getResult","console","log","os","name","getOs","Score","normalizeScore","Screen","MAX_WIDTH","MAX_HEIGHT","min","innerWidth","innerHeight","onMove","onSelfCollision","direction","_canvas","_cellSize","_direction","_segments","createSegment","hasCollision","i","length","isDirectionValid","getNewHeadCoordinates","push","forEach","segment","createWithColor","unshift","pop","newDir","PENDING","getViewportSize","sizes","sizeGenerator","mode","gameMode","ceil","random","field","appleCoords","getRandomCell","renderApple","createCanvas","notificationScreen","appendChild","drawScore","renderWelcomeScreen","renderGameOverScreen","font","fillText","align","getCellColor","CELL_COUNT","adjustedWidth","adjustedHeight"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;AACA;;AAEA;;AAEA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,cAAc,gBAAgB;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,EAAE;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sDAAsD;AACtD;;AAEA,sBAAsB;AACtB;;AAEA,+BAA+B;AAC/B;;AAEA;AACA,kCAAkC,MAAM;AACxC;;AAEA,+C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A2B;AAC3B;AACA,wDAAwD;AACxD;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,YAAY,IAA2C;AACvD,YAAY,mCAAO;AACnB;AACA,aAAa;AAAA,oGAAC;AACd,SAAS,MAAM,EAGN;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC34BD;AACA;AAEO,IAAMA,KAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2BACgBC,OADhB,EACyB;AACrB,UAAMC,KAAK,GAAG,IAAIF,KAAJ,CAAUC,OAAV,CAAd;AACAC,WAAK,CAACC,MAAN;AACA,aAAOD,KAAP;AACD;AALH;;AAOE,iBAAYD,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,iGAAWA,OAAX;AAAoBG,aAAO,EAAEC,+CAAMA;AAAnC;AACA,UAAKC,UAAL,GAAkB,IAAlB;AAFmB;AAGpB;;AAVH;AAAA;AAAA,yCAYuB;AAAA;;AACnBC,YAAM,CAACC,aAAP,CAAqB,KAAKF,UAA1B;AACA,WAAKA,UAAL,GAAkBG,WAAW,CAAC,YAAM;AAClC,cAAI,CAACL,OAAL,GAAe,QAAf;AACD,OAF4B,EAE1B,GAF0B,CAA7B;AAGD;AAjBH;;AAAA;AAAA,EAA2BM,0CAA3B,E;;;;;;;;;;;;;;;;;;;;ACHO,IAAMA,IAAb;AAAA;AAAA;AAAA;AAAA;AAAA,0CAC8D;AAAA,UAAnCC,MAAmC,QAAnCA,MAAmC;AAAA,UAA3BC,GAA2B,QAA3BA,GAA2B;AAAA,UAAtBC,GAAsB,QAAtBA,GAAsB;AAAA,UAAjBC,CAAiB,QAAjBA,CAAiB;AAAA,UAAdC,CAAc,QAAdA,CAAc;AAAA,UAAXX,OAAW,QAAXA,OAAW;AAC1D,UAAMY,IAAI,GAAG,IAAIN,IAAJ,CAAS;AAAEC,cAAM,EAANA,MAAF;AAAUC,WAAG,EAAHA,GAAV;AAAeC,WAAG,EAAHA,GAAf;AAAoBC,SAAC,EAADA,CAApB;AAAuBC,SAAC,EAADA;AAAvB,OAAT,CAAb;AACAC,UAAI,CAACC,KAAL,GAAab,OAAb;AACAY,UAAI,CAACb,MAAL;AACA,aAAOa,IAAP;AACD;AANH;AAAA;AAAA,kCAQ4C;AAAA,UAA1BL,MAA0B,SAA1BA,MAA0B;AAAA,UAAlBC,GAAkB,SAAlBA,GAAkB;AAAA,UAAbC,GAAa,SAAbA,GAAa;AAAA,UAARC,CAAQ,SAARA,CAAQ;AAAA,UAALC,CAAK,SAALA,CAAK;AACxC,UAAMC,IAAI,GAAG,IAAIN,IAAJ,CAAS;AAAEC,cAAM,EAANA,MAAF;AAAUC,WAAG,EAAHA,GAAV;AAAeC,WAAG,EAAHA,GAAf;AAAoBC,SAAC,EAADA,CAApB;AAAuBC,SAAC,EAADA;AAAvB,OAAT,CAAb;AACAC,UAAI,CAACb,MAAL;AACA,aAAOa,IAAP;AACD;AAZH;;AAcE,uBAA0D;AAAA,QAA5CL,MAA4C,SAA5CA,MAA4C;AAAA,QAApCC,GAAoC,SAApCA,GAAoC;AAAA,QAA/BC,GAA+B,SAA/BA,GAA+B;AAAA,QAA1BC,CAA0B,SAA1BA,CAA0B;AAAA,QAAvBC,CAAuB,SAAvBA,CAAuB;AAAA,8BAApBX,OAAoB;AAAA,QAApBA,OAAoB,8BAAV,MAAU;;AAAA;;AACxD,SAAKc,GAAL,GAAWP,MAAM,CAACQ,UAAP,CAAkB,IAAlB,CAAX;AACA,SAAKL,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKH,GAAL,GAAWA,GAAX;AACA,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKO,CAAL,GAASR,GAAG,GAAG,KAAKE,CAApB;AACA,SAAKO,CAAL,GAASR,GAAG,GAAG,KAAKE,CAApB;AACA,SAAKE,KAAL,GAAab,OAAb;AACD;AAED;;;;;;AAzBF;AAAA;AAAA,6BAqCW;AACP,WAAKkB,SAAL,GAAiB,KAAKlB,OAAtB;AACA,WAAKc,GAAL,CAASK,QAAT,CAAkB,KAAKH,CAAvB,EAA0B,KAAKC,CAA/B,EAAkC,KAAKP,CAAvC,EAA0C,KAAKC,CAA/C;AACA,WAAKG,GAAL,CAASM,WAAT,GAAuB,MAAvB;AACA,WAAKN,GAAL,CAASO,UAAT,CAAoB,KAAKL,CAAzB,EAA4B,KAAKC,CAAjC,EAAoC,KAAKP,CAAzC,EAA4C,KAAKC,CAAjD;AACD;AA1CH;AAAA;AAAA,4BA4CU;AACN,WAAKW,eAAL;AACA,WAAKvB,MAAL;AACD;AA/CH;AAAA;AAAA,sCAiDoB;AAChB,WAAKe,GAAL,CAASI,SAAT,GAAqB,MAArB;AACD;AAnDH;AAAA;AAAA,sBA6BYL,KA7BZ,EA6BmB;AACf,WAAKC,GAAL,CAASI,SAAT,GAAqBL,KAArB;AACD,KA/BH;AAAA,wBAiCc;AACV,aAAO,KAAKC,GAAL,CAASI,SAAhB;AACD;AAnCH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AAEO,IAAMK,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA,8BACmBC,cADnB,EACmC;AAC/B,UAAMC,QAAQ,GAAG,IAAIF,eAAJ,CAAoBC,cAApB,CAAjB;AACAC,cAAQ,CAACC,IAAT;AACA,aAAOD,QAAP;AACD;AALH;;AAOE,2BAAYD,cAAZ,EAA4B;AAAA;;AAC1B,SAAKA,cAAL,GAAsBA,cAAtB;AACD;;AATH;AAAA;AAAA,2BAWS;AACL,UAAMG,MAAM,GAAGC,8DAAc,CAACC,MAAf,EAAf;AACA,UAAMC,IAAI,GAAGH,MAAM,CAACI,eAAP,EAAb;;AACA,UAAID,IAAJ,EAAU,CACR;AACD,OAFD,MAEO;AACL,aAAKL,QAAL,GAAgBO,kEAAgB,CAACC,SAAjB,CAA2B,KAAKT,cAAhC,CAAhB;AACD;AACF;AAnBH;AAAA;AAAA,4BAqBU;AACN,WAAKC,QAAL,CAAcS,KAAd;AACD;AAvBH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;ACHA;AAEO,IAAMF,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA,8BACmBR,cADnB,EACmC;AAC/B,UAAMC,QAAQ,GAAG,IAAIO,gBAAJ,CAAqBR,cAArB,CAAjB;AACAC,cAAQ,CAACC,IAAT;AACA,aAAOD,QAAP;AACD;AALH;;AAOE,4BAAYD,cAAZ,EAA4B;AAAA;;AAC1B,SAAKA,cAAL,GAAsBA,cAAtB;AACA,SAAKW,iBAAL,GAAyB,KAAKA,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAzB;AACD;;AAVH;AAAA;AAAA,sCAYoBC,CAZpB,EAYuB;AACnB,cAAQA,CAAC,CAACC,GAAV;AACE,aAAK,GAAL;AACE,eAAKd,cAAL,CAAoBe,oDAAU,CAACC,MAA/B;AACA;;AACF,aAAK,GAAL;AACE,eAAKhB,cAAL,CAAoBe,oDAAU,CAACE,GAA/B;AACA;;AACF,aAAK,GAAL;AACE,eAAKjB,cAAL,CAAoBe,oDAAU,CAACG,KAA/B;AACA;;AACF,aAAK,GAAL;AACE,eAAKlB,cAAL,CAAoBe,oDAAU,CAACI,IAA/B;AACA;AAZJ;AAcD;AA3BH;AAAA;AAAA,2BA6BS;AACLC,cAAQ,CAACC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKV,iBAA1C;AACD;AA/BH;AAAA;AAAA,4BAiCU;AACNS,cAAQ,CAACE,mBAAT,CAA6B,SAA7B,EAAwC,KAAKX,iBAA7C;AACD;AAnCH;;AAAA;AAAA,I;;;;;;;;;;;ACFA,uC;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAEO,IAAMY,IAAb;AAAA;AAAA;AAAA;AAAA;;AACE;;;AADF,2BAIgBC,EAJhB,EAIoB;AAChB,UAAMC,IAAI,GAAG,IAAIF,IAAJ,CAASC,EAAT,CAAb;AACAC,UAAI,CAACvB,IAAL;AACAvB,YAAM,CAAC8C,IAAP,GAAcA,IAAd;AACA,aAAOA,IAAP;AACD;AAED;;;;AAXF;;AAcE,gBAAYC,IAAZ,EAAkB;AAAA;;AAChB,SAAKA,IAAL,GAAYA,IAAZ;AACA,SAAKC,KAAL,GAAa,CAAb;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,GAAL,GAAW,CAAX;AACA,SAAKC,QAAL,GAAgBC,IAAI,CAACC,GAAL,EAAhB;AAEA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkBrB,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAtBH;AAAA;AAAA,2BAwBS;AACL,WAAKsB,mBAAL;AACA,WAAKC,WAAL;AACD;AA3BH;AAAA;AAAA,0CA6BwB;AACpB,WAAKC,SAAL,GAAiBhB,QAAQ,CAACiB,aAAT,CAAuB,KAAvB,CAAjB;AACA,WAAKD,SAAL,CAAeE,SAAf,CAAyBC,GAAzB,CAA6B,gBAA7B;AACA,WAAKb,IAAL,CAAUc,MAAV,CAAiB,KAAKJ,SAAtB;AACD;AAjCH;AAAA;AAAA,kCAmCgB;AAAA;;AACZ,WAAKK,KAAL,GAAaC,+CAAK,CAACrC,MAAN,CAAa;AACxBqB,YAAI,EAAE,KAAKU,SADa;AAExBO,4BAAoB,EAAE;AAAA,iBAAM,KAAI,CAACC,SAAL,EAAN;AAAA;AAFE,OAAb,CAAb;AAID;AAxCH;AAAA;AAAA,gCA0Cc;AACV,WAAKC,KAAL;AACA,WAAKC,WAAL;AACA,WAAKC,cAAL;AACA,WAAKC,IAAL;AACD;AA/CH;AAAA;AAAA,4BAiDU;AACN,WAAKpB,SAAL,GAAiB,KAAjB;AACA,WAAKD,KAAL,GAAa,CAAb;AACA,WAAKc,KAAL,CAAWQ,OAAX,CAAmBC,oDAAU,CAACC,OAA9B;AACD;AArDH;AAAA;AAAA,2BAuDS;AAAA;;AACL,UAAI,KAAKvB,SAAT,EAAoB;AAClB,aAAKwB,QAAL;AACA;AACD;;AACD,UAAMC,WAAW,GAAG,OAAO,KAAKxB,GAAhC;AACA,UAAMyB,WAAW,GAAGvB,IAAI,CAACC,GAAL,EAApB;AACA,UAAMuB,WAAW,GAAGD,WAAW,GAAG,KAAKxB,QAAvC;AACA,WAAK0B,cAAL,GAAsB7E,MAAM,CAAC8E,qBAAP,CAA6B,YAAM;AACvD,YAAIF,WAAW,GAAGF,WAAlB,EAA+B;AAC7B,gBAAI,CAACK,MAAL;;AACA,gBAAI,CAAC5B,QAAL,GAAgBwB,WAAW,GAAGC,WAAW,GAAGF,WAA5C;AACD;;AACD,cAAI,CAACL,IAAL;AACD,OANqB,CAAtB;AAOD;AAtEH;AAAA;AAAA,6BAwEW;AACP,WAAKW,UAAL;AACA,WAAKC,WAAL;AACA,WAAKC,IAAL;AACA,WAAKC,eAAL;AACD;AA7EH;AAAA;AAAA,kCA+EgB;AACZ,WAAKrB,KAAL,CAAWd,KAAX,GAAmB,KAAKA,KAAxB;AACA,WAAKc,KAAL,CAAWlE,MAAX;AACD;AAlFH;AAAA;AAAA,2BAoFS;AACL,WAAKwF,KAAL,CAAWF,IAAX;AACA,WAAKE,KAAL,CAAWxF,MAAX;AACD;AAvFH;AAAA;AAAA,+BAyFa;AACTI,YAAM,CAACqF,oBAAP,CAA4B,KAAKR,cAAjC;AACA,WAAKf,KAAL,CAAWQ,OAAX,CAAmBC,oDAAU,CAACe,IAA9B;AACD;AA5FH;AAAA;AAAA,kCA8FgB;AAAA,wBACiB,KAAKxB,KADtB;AAAA,UACJ1D,MADI,eACJA,MADI;AAAA,UACImF,QADJ,eACIA,QADJ;AAEZ,WAAKH,KAAL,GAAaI,+CAAK,CAAC9D,MAAN,CAAa;AACxBtB,cAAM,EAANA,MADwB;AAExBmF,gBAAQ,EAARA;AAFwB,OAAb,CAAb;AAID;AApGH;AAAA;AAAA,iCAsGe;AAAA,6BACU,KAAKH,KAAL,CAAWK,IADrB;AAAA,UACHpF,GADG,oBACHA,GADG;AAAA,UACEC,GADF,oBACEA,GADF;;AAEX,UAAI,KAAKwD,KAAL,CAAW4B,KAAX,CAAiB;AAAErF,WAAG,EAAHA,GAAF;AAAOC,WAAG,EAAHA;AAAP,OAAjB,CAAJ,EAAoC;AAClC,aAAK8E,KAAL,CAAWO,IAAX;AACA,aAAK3C,KAAL,IAAc,CAAd;AACA,aAAKc,KAAL,CAAW8B,WAAX;AACD;AACF;AA7GH;AAAA;AAAA,sCA+GoB;AAAA,8BACK,KAAKR,KAAL,CAAWK,IADhB;AAAA,UACRpF,GADQ,qBACRA,GADQ;AAAA,UACHC,GADG,qBACHA,GADG;AAEhB,WAAK2C,SAAL,GACE,KAAK4C,mBAAL,CAAyBxF,GAAzB,EAA8BC,GAA9B,KAAsC,KAAK8E,KAAL,CAAWU,kBAAX,EADxC;AAED;AAnHH;AAAA;AAAA,wCAqHsBzF,GArHtB,EAqH2BC,GArH3B,EAqHgC;AAC5B,aACED,GAAG,IAAI,KAAKyD,KAAL,CAAWiC,YAAlB,IACAzF,GAAG,IAAI,KAAKwD,KAAL,CAAWkC,aADlB,IAEA3F,GAAG,GAAG,CAFN,IAGAC,GAAG,GAAG,CAJR;AAMD;AA5HH;AAAA;AAAA,iCA8He2F,GA9Hf,EA8HoB;AAChB,WAAKb,KAAL,CAAW9B,YAAX,CAAwB2C,GAAxB;AACD;AAhIH;AAAA;AAAA,qCAkImB;AACf,WAAKC,SAAL,GAAiB9E,yEAAe,CAACU,SAAhB,CAA0B,KAAKwB,YAA/B,CAAjB;AACD;AApIH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACLA;AACA;AAEA;;;;;;;AAOO,IAAM6C,SAAb;AAAA;AAAA;AAAA;AAAA;;AACE;;;;;AADF,2BAMgBzG,OANhB,EAMyB;AACrB,UAAMoE,KAAK,GAAG,IAAIqC,SAAJ,mBAAmBzG,OAAnB,EAAd;AACAoE,WAAK,CAAClE,MAAN;AACA,aAAOkE,KAAP;AACD;AAED;;;;;;AAZF;;AAiBE,2BAAiD;AAAA,QAAnC1D,MAAmC,QAAnCA,MAAmC;AAAA,QAA3BgG,KAA2B,QAA3BA,KAA2B;AAAA,QAApBC,MAAoB,QAApBA,MAAoB;AAAA,QAAZd,QAAY,QAAZA,QAAY;;AAAA;;AAC/C,SAAKA,QAAL,GAAgBA,QAAhB;AACA,SAAKnF,MAAL,GAAcA,MAAd;AACA,SAAKgG,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKL,aAAL,GAAqBM,IAAI,CAACC,KAAL,CAAW,KAAKF,MAAL,GAAc,KAAKd,QAA9B,CAArB;AACA,SAAKQ,YAAL,GAAoBO,IAAI,CAACC,KAAL,CAAW,KAAKH,KAAL,GAAa,KAAKb,QAA7B,CAApB;AACD;;AAxBH;AAAA;AAAA,sCA0B2B;AAAA,UAAZlF,GAAY,SAAZA,GAAY;AAAA,UAAPC,GAAO,SAAPA,GAAO;AACvB,aAAO,KAAKX,KAAL,CAAWU,GAAX,KAAmBA,GAAnB,IAA0B,KAAKV,KAAL,CAAWW,GAAX,KAAmBA,GAApD;AACD;AAED;;;;;;;AA9BF;AAAA;AAAA,uCAoC4B;AAAA,UAAZD,GAAY,SAAZA,GAAY;AAAA,UAAPC,GAAO,SAAPA,GAAO;AACxB,WAAKX,KAAL,GAAaF,4CAAK,CAACiC,MAAN,CAAa;AACxBtB,cAAM,EAAE,KAAKA,MADW;AAExBC,WAAG,EAAHA,GAFwB;AAGxBC,WAAG,EAAHA,GAHwB;AAIxBC,SAAC,EAAE,KAAKgF,QAJgB;AAKxB/E,SAAC,EAAE,KAAK+E;AALgB,OAAb,CAAb;AAOD;AA5CH;AAAA;AAAA,6BA8CW;AACP,WAAKiB,SAAL;AACD;AAhDH;AAAA;AAAA,gCAkDc;AACV,WAAK,IAAIlG,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAK0F,aAA7B,EAA4C1F,GAAG,IAAI,CAAnD,EAAsD;AACpD,aAAK,IAAID,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAG,KAAK0F,YAA7B,EAA2C1F,GAAG,IAAI,CAAlD,EAAqD;AACnDF,uDAAI,CAACuB,MAAL,CAAY;AACVtB,kBAAM,EAAE,KAAKA,MADH;AAEVC,eAAG,EAAHA,GAFU;AAGVC,eAAG,EAAHA,GAHU;AAIVC,aAAC,EAAE,KAAKgF,QAJE;AAKV/E,aAAC,EAAE,KAAK+E;AALE,WAAZ;AAOD;AACF;AACF;AA9DH;;AAAA;AAAA,I;;;;;;;;;;;;ACVA;AAAA;AAAA;AACA,IAAMkB,IAAI,GAAGhE,QAAQ,CAACiE,aAAT,CAAuB,MAAvB,CAAb;AACA9D,6CAAI,CAAClB,MAAL,CAAY+E,IAAZ,E;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAME,kBAAb;AAAA;AAAA;AAAA;AAAA;AAAA,2BACgBjH,OADhB,EACyB;AACrB,UAAMkH,MAAM,GAAG,IAAID,kBAAJ,CAAuBjH,OAAvB,CAAf;AACAkH,YAAM,CAAC5E,iBAAP;AACA4E,YAAM,CAAChH,MAAP;AACA,aAAOgH,MAAP;AACD;AANH;;AAQE,oCAA+D;AAAA,QAAjDxG,MAAiD,QAAjDA,MAAiD;AAAA,QAAzCG,CAAyC,QAAzCA,CAAyC;AAAA,QAAtCC,CAAsC,QAAtCA,CAAsC;AAAA,QAAnCqG,WAAmC,QAAnCA,WAAmC;AAAA,QAAtBC,SAAsB,QAAtBA,SAAsB;AAAA,QAAXC,OAAW,QAAXA,OAAW;;AAAA;;AAC7D,SAAK3G,MAAL,GAAcA,MAAd;AACA,SAAKO,GAAL,GAAWP,MAAM,CAACQ,UAAP,CAAkB,IAAlB,CAAX;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKC,CAAL,GAAS,CAAT;AACA,SAAKP,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKqG,WAAL,GAAmBA,WAAnB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKC,OAAL,GAAeA,OAAf;AACA,SAAKC,YAAL,GAAoB,KAAKA,YAAL,CAAkB/E,IAAlB,CAAuB,IAAvB,CAApB;AACD;;AAnBH;AAAA;AAAA,6BAqBW;AACP,WAAKgF,cAAL;AACA,WAAKC,UAAL;AACD;AAxBH;AAAA;AAAA,iCA0Be;AACX,WAAKC,IAAL,GAAYC,0CAAI,CAAC1F,MAAL,CAAY;AACtBtB,cAAM,EAAE,KAAKA,MADS;AAEtBS,SAAC,EAAE,KAAKN,CAAL,GAAS,CAFU;AAGtBO,SAAC,EAAE,KAAKN,CAAL,GAAS,CAHU;AAItBqG,mBAAW,EAAE,KAAKA,WAJI;AAKtBQ,iBAAS,EAAE,QALW;AAMtBP,iBAAS,EAAE,KAAKA;AANM,OAAZ,CAAZ;AAQD;AAnCH;AAAA;AAAA,qCAqCmB;AACf,WAAKnG,GAAL,CAASI,SAAT,GAAqB,iBAArB;AACA,WAAKJ,GAAL,CAASK,QAAT,CAAkB,KAAKH,CAAvB,EAA0B,KAAKC,CAA/B,EAAkC,KAAKP,CAAvC,EAA0C,KAAKC,CAA/C;AACD;AAxCH;AAAA;AAAA,mCA0CiB;AACb,WAAKuG,OAAL;AACA,WAAK3G,MAAL,CAAYuC,mBAAZ,CAAgC,OAAhC,EAAyC,KAAKqE,YAA9C;AACD;AA7CH;AAAA;AAAA,wCA+CsB;AAClB,WAAK5G,MAAL,CAAYsC,gBAAZ,CAA6B,OAA7B,EAAsC,KAAKsE,YAA3C;AACD;AAjDH;;AAAA;AAAA,I;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACO,IAAMM,KAAK,GAAG,sBAAd;AACA,IAAMxH,MAAM,GAAG,qBAAf;AACA,IAAMyH,IAAI,GAAG,wBAAb;AACA,IAAMC,SAAS,GAAG,2BAAlB;AACA,IAAMC,QAAQ,GAAG,2BAAjB,C;;;;;;;;;;;;;;;;;;;;;;ACLP;AAEA,IAAMC,EAAE,GAAG;AACTC,KAAG,EAAE,KADI;AAETC,SAAO,EAAE,SAFA;AAGTC,QAAM,EAAE;AAHC,CAAX;AAKO,IAAMpG,cAAb;AAAA;AAAA;AAAA;AAAA;AAAA,6BACkB;AACd,aAAO,IAAIA,cAAJ,EAAP;AACD;AAHH;;AAKE,4BAAc;AAAA;;AACZ,SAAKqG,QAAL,GAAgB,IAAIC,qDAAJ,EAAhB;AACA,SAAKC,MAAL,GAAc,KAAKF,QAAL,CAAcG,SAAd,EAAd;AACD;;AARH;AAAA;AAAA,4BAUU;AACNC,aAAO,CAACC,GAAR,CAAY,KAAKH,MAAL,CAAYI,EAAxB;AACA,aAAO,KAAKJ,MAAL,CAAYI,EAAZ,CAAeC,IAAtB;AACD;AAbH;AAAA;AAAA,sCAeoB;AAChB,aAAO,KAAKC,KAAL,OAAiBZ,EAAE,CAACC,GAApB,IAA2B,KAAKW,KAAL,OAAiBZ,EAAE,CAACE,OAAtD;AACD;AAjBH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AACO,IAAMW,KAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACE;;;;AADF,2BAKgB7I,OALhB,EAKyB;AACrB,UAAMsD,KAAK,GAAG,IAAIuF,KAAJ,CAAU7I,OAAV,CAAd;AACAsD,WAAK,CAACpD,MAAN;AACA,aAAOoD,KAAP;AACD;AAED;;;;;AAXF;;AAeE,iBAAYtD,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,+EAAMA,OAAN;AACA,UAAKmH,WAAL,GAAmB2B,6DAAc,CAAC9I,OAAO,CAACsD,KAAT,CAAjC;AACA,UAAK8D,SAAL,GAAiB,SAAjB;AACA,UAAKjG,CAAL,GAAS,EAAT;AAJmB;AAKpB;;AApBH;AAAA;AAAA,6BAsBWmC,KAtBX,EAsBkB;AACd,WAAK6D,WAAL,GAAmB2B,6DAAc,CAACxF,KAAD,CAAjC;AACD;AAxBH;;AAAA;AAAA,EAA2BoE,0CAA3B,E;;;;;;;;;;;;;;;;;;;;ACFO,IAAMqB,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,sCAC2B;AACvB,UAAMC,SAAS,GAAG,IAAlB;AACA,UAAMC,UAAU,GAAG,IAAnB;AACA,aAAO;AACLvC,aAAK,EAAEE,IAAI,CAACsC,GAAL,CAAS5I,MAAM,CAAC6I,UAAhB,EAA4BH,SAA5B,CADF;AAELrC,cAAM,EAAEC,IAAI,CAACsC,GAAL,CAAS5I,MAAM,CAAC8I,WAAhB,EAA6BH,UAA7B;AAFH,OAAP;AAID;AARH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;;;;;;AAKO,IAAMvG,UAAU,GAAG;AACxBG,OAAK,EAAE,CADiB;AAExBC,MAAI,EAAE,CAFkB;AAGxBF,KAAG,EAAE,CAHmB;AAIxBD,QAAM,EAAE;AAJgB,CAAnB;AAOA,IAAMmD,KAAb;AAAA;AAAA;AAAA;AAAA;AAAA,iCACmD;AAAA,UAAjCpF,MAAiC,QAAjCA,MAAiC;AAAA,UAAzBmF,QAAyB,QAAzBA,QAAyB;AAAA,UAAfwD,MAAe,QAAfA,MAAe;AAAA,UAAP9C,GAAO,QAAPA,GAAO;AAC/C,UAAMb,KAAK,GAAG,IAAII,KAAJ,CAAU;AAAEpF,cAAM,EAANA,MAAF;AAAUmF,gBAAQ,EAARA,QAAV;AAAoBwD,cAAM,EAANA,MAApB;AAA4B9C,WAAG,EAAHA;AAA5B,OAAV,CAAd;AACAb,WAAK,CAAC7D,IAAN;AACA6D,WAAK,CAACxF,MAAN;AACA,aAAOwF,KAAP;AACD;AANH;;AAQE,wBAMG;AAAA,QALDhF,MAKC,SALDA,MAKC;AAAA,QAJDmF,QAIC,SAJDA,QAIC;AAAA,QAHDwD,MAGC,SAHDA,MAGC;AAAA,QAFDC,eAEC,SAFDA,eAEC;AAAA,gCADDC,SACC;AAAA,QADDA,SACC,gCADW7G,UAAU,CAACG,KACtB;;AAAA;;AACD,SAAK2G,OAAL,GAAe9I,MAAf;AACA,SAAK+I,SAAL,GAAiB5D,QAAjB;AACA,SAAK6D,UAAL,GAAkBH,SAAlB;AAEA,SAAKF,MAAL,GAAcA,MAAd;AACA,SAAKC,eAAL,GAAuBA,eAAvB;AACD;;AArBH;AAAA;AAAA,2BAuBS;AACL,WAAKK,SAAL,GAAiB,CACf,KAAKC,aAAL,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAzB,CADe,EAEf,KAAKA,aAAL,CAAmB,CAAnB,EAAsB,CAAtB,CAFe,EAGf,KAAKA,aAAL,CAAmB,CAAnB,EAAsB,CAAtB,CAHe,CAAjB;AAKD;AA7BH;AAAA;AAAA,yCA+BuB;AACnB,UAAIC,YAAY,GAAG,KAAnB;;AADmB,2CAEJ,KAAKF,SAFD;AAAA,UAEZ5D,IAFY;;AAGnB,WAAK,IAAI+D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKH,SAAL,CAAeI,MAAnC,EAA2CD,CAAC,IAAI,CAAhD,EAAmD;AACjD,YACE/D,IAAI,CAACpF,GAAL,KAAa,KAAKgJ,SAAL,CAAeG,CAAf,EAAkBnJ,GAA/B,IACAoF,IAAI,CAACnF,GAAL,KAAa,KAAK+I,SAAL,CAAeG,CAAf,EAAkBlJ,GAFjC,EAGE;AACAiJ,sBAAY,GAAG,IAAf;AACA;AACD;AACF;;AACD,aAAOA,YAAP;AACD;AAED;;;;AA9CF;AAAA;AAAA,iCAiDetD,GAjDf,EAiDoB;AAChB,UAAI,KAAKyD,gBAAL,CAAsBzD,GAAtB,CAAJ,EAAgC;AAC9B,aAAKmD,UAAL,GAAkBnD,GAAlB;AACD;AACF;AArDH;AAAA;AAAA,2BAuDS;AAAA,kCACgB,KAAK0D,qBAAL,EADhB;AAAA,UACGtJ,GADH,yBACGA,GADH;AAAA,UACQC,GADR,yBACQA,GADR;;AAEL,WAAK+I,SAAL,CAAeO,IAAf,CAAoB,KAAKN,aAAL,CAAmBjJ,GAAnB,EAAwBC,GAAxB,CAApB;AACD;AAED;;;;AA5DF;AAAA;AAAA,6BAmEW;AACP,WAAK+I,SAAL,CAAeQ,OAAf,CAAuB,UAAAC,OAAO,EAAI;AAChCA,eAAO,CAAClK,MAAR;AACD,OAFD;AAGD;AAvEH;AAAA;AAAA,kCAyEgBS,GAzEhB,EAyEqBC,GAzErB,EAyE0B;AACtB,UAAMwJ,OAAO,GAAG3J,6CAAI,CAAC4J,eAAL,CAAqB;AACnC3J,cAAM,EAAE,KAAK8I,OADsB;AAEnC7I,WAAG,EAAHA,GAFmC;AAGnCC,WAAG,EAAHA,GAHmC;AAInCC,SAAC,EAAE,KAAK4I,SAJ2B;AAKnC3I,SAAC,EAAE,KAAK2I,SAL2B;AAMnCtJ,eAAO,EAAE0H,gDAAIA;AANsB,OAArB,CAAhB;AAQA,aAAOuC,OAAP;AACD;AAnFH;AAAA;AAAA,2BAqFS;AAAA,mCACgB,KAAKH,qBAAL,EADhB;AAAA,UACGtJ,GADH,0BACGA,GADH;AAAA,UACQC,GADR,0BACQA,GADR;;AAEL,WAAK+I,SAAL,CAAeW,OAAf,CAAuB,KAAKV,aAAL,CAAmBjJ,GAAnB,EAAwBC,GAAxB,CAAvB;;AACA,WAAK+I,SAAL,CAAeY,GAAf;AACD;AAzFH;AAAA;AAAA,4CA2F0B;AAAA,uBACH,KAAKxE,IADF;AAAA,UAChBpF,GADgB,cAChBA,GADgB;AAAA,UACXC,GADW,cACXA,GADW;;AAEtB,cAAQ,KAAK8I,UAAb;AACE,aAAKhH,UAAU,CAACE,GAAhB;AACEhC,aAAG,IAAI,CAAP;AACA;;AACF,aAAK8B,UAAU,CAACI,IAAhB;AACEnC,aAAG,IAAI,CAAP;AACA;;AACF,aAAK+B,UAAU,CAACC,MAAhB;AACE/B,aAAG,IAAI,CAAP;AACA;;AACF;AACED,aAAG,IAAI,CAAP;AAXJ;;AAcA,aAAO;AAAEA,WAAG,EAAHA,GAAF;AAAOC,WAAG,EAAHA;AAAP,OAAP;AACD;AAED;;;;;AA9GF;AAAA;AAAA,qCAkHmB4J,MAlHnB,EAkH2B;AACvB,UACE,CAAC,KAAKd,UAAL,KAAoBhH,UAAU,CAACG,KAA/B,IACC,KAAK6G,UAAL,KAAoBhH,UAAU,CAACI,IADjC,MAEC0H,MAAM,KAAK9H,UAAU,CAACI,IAAtB,IAA8B0H,MAAM,KAAK9H,UAAU,CAACG,KAFrD,CADF,EAIE;AACA,eAAO,KAAP;AACD;;AACD,UACE,CAAC,KAAK6G,UAAL,KAAoBhH,UAAU,CAACE,GAA/B,IACC,KAAK8G,UAAL,KAAoBhH,UAAU,CAACC,MADjC,MAEC6H,MAAM,KAAK9H,UAAU,CAACE,GAAtB,IAA6B4H,MAAM,KAAK9H,UAAU,CAACC,MAFpD,CADF,EAIE;AACA,eAAO,KAAP;AACD;;AAED,aAAO,IAAP;AACD;AAnIH;AAAA;AAAA,wBA+Da;AACT,aAAO,KAAKgH,SAAL,CAAe,CAAf,CAAP;AACD;AAjEH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA;AACA;AACA;AACA;AACA;AACA;;;;;;;AAOO,IAAM9E,UAAU,GAAG;AACxB4F,SAAO,EAAE,CADe;AAExB3F,SAAO,EAAE,CAFe;AAGxBc,MAAI,EAAE;AAHkB,CAAnB;AAKA,IAAMvB,KAAb;AAAA;AAAA;AAAA;AAAA;;AACE;;;AADF,2BAIgBrE,OAJhB,EAIyB;AAAA,kCACK+I,8CAAM,CAAC2B,eAAP,EADL;AAAA,UACbhE,KADa,yBACbA,KADa;AAAA,UACNC,MADM,yBACNA,MADM;;AAErB6B,aAAO,CAACC,GAAR,CAAY/B,KAAZ,EAAmBC,MAAnB;AACA,UAAMgE,KAAK,GAAGC,4DAAa,CAAC;AAAElE,aAAK,EAALA,KAAF;AAASC,cAAM,EAANA;AAAT,OAAD,CAA3B;AACA,UAAMvC,KAAK,GAAG,IAAIC,KAAJ,mBAAerE,OAAf,MAA2B2K,KAA3B,EAAd;AACAvG,WAAK,CAACvC,IAAN;AACA,aAAOuC,KAAP;AACD;AAED;;;;;;;;AAbF;;AAoBE,uBAAqE;AAAA,QAAvDf,IAAuD,QAAvDA,IAAuD;AAAA,QAAjDiB,oBAAiD,QAAjDA,oBAAiD;AAAA,QAA3BoC,KAA2B,QAA3BA,KAA2B;AAAA,QAApBC,MAAoB,QAApBA,MAAoB;AAAA,QAAZd,QAAY,QAAZA,QAAY;;AAAA;;AACnE,SAAKxC,IAAL,GAAYA,IAAZ;AACA,SAAKwH,IAAL,GAAYhG,UAAU,CAAC4F,OAAvB;AACA,SAAK/D,KAAL,GAAaA,KAAb;AACA,SAAKC,MAAL,GAAcA,MAAd;AACA,SAAKd,QAAL,GAAgBA,QAAhB;AACA,SAAKvB,oBAAL,GAA4BA,oBAA5B;AACD;;AA3BH;AAAA;AAAA,4BAqCUwG,QArCV,EAqCoB;AAChB,WAAKD,IAAL,GAAYC,QAAZ;AACA,WAAK5K,MAAL;AACD;AAxCH;AAAA;AAAA,oCA0CkB;AACd,UAAMS,GAAG,GAAGiG,IAAI,CAACmE,IAAL,CAAUnE,IAAI,CAACoE,MAAL,KAAgB,KAAK3E,YAArB,GAAoC,CAA9C,CAAZ;AACA,UAAMzF,GAAG,GAAGgG,IAAI,CAACmE,IAAL,CAAUnE,IAAI,CAACoE,MAAL,KAAgB,KAAK1E,aAArB,GAAqC,CAA/C,CAAZ;AACA,aAAO;AAAE3F,WAAG,EAAHA,GAAF;AAAOC,WAAG,EAAHA;AAAP,OAAP;AACD;AA9CH;AAAA;AAAA,iCAgDsB;AAAA,UAAZD,GAAY,SAAZA,GAAY;AAAA,UAAPC,GAAO,SAAPA,GAAO;AAClB,aAAO,KAAKqK,KAAL,CAAW3F,UAAX,CAAsB;AAAE3E,WAAG,EAAHA,GAAF;AAAOC,WAAG,EAAHA;AAAP,OAAtB,CAAP;AACD;AAlDH;AAAA;AAAA,kCAoDgB;AACZ,WAAKsK,WAAL,GAAmB,KAAKC,aAAL,EAAnB;AACD;AAED;;;;;;;AAxDF;AAAA;AAAA,kCA8DgB;AACZ,UAAI,CAAC,KAAKD,WAAV,EAAuB;AACrB,aAAKhF,WAAL;AACD;;AACD,WAAK+E,KAAL,CAAWG,WAAX,CAAuB,KAAKF,WAA5B;AACD;AAED;;;;AArEF;AAAA;AAAA,2BAwES;AACL,WAAKG,YAAL;AACA,WAAKnL,MAAL;AACD;AA3EH;AAAA;AAAA,0CA6EwB;AACpB,WAAKoL,kBAAL,GAA0BrE,sEAAkB,CAACjF,MAAnB,CAA0B;AAClDtB,cAAM,EAAE,KAAKA,MADqC;AAElDG,SAAC,EAAE,KAAK6F,KAF0C;AAGlD5F,SAAC,EAAE,KAAK6F,MAH0C;AAIlDQ,mBAAW,EAAE,YAJqC;AAKlDE,eAAO,EAAE,KAAK/C;AALoC,OAA1B,CAA1B;AAOD;AArFH;AAAA;AAAA,mCAuFiB;AACb,WAAK5D,MAAL,GAAcqC,QAAQ,CAACiB,aAAT,CAAuB,QAAvB,CAAd;AACA,WAAKtD,MAAL,CAAYgG,KAAZ,GAAoB,KAAKA,KAAzB;AACA,WAAKhG,MAAL,CAAYiG,MAAZ,GAAqB,KAAKA,MAA1B;AAEA,WAAKtD,IAAL,CAAUkI,WAAV,CAAsB,KAAK7K,MAA3B;AACD;AA7FH;AAAA;AAAA,6BA+FW;AACP,cAAQ,KAAKmK,IAAb;AACE,aAAKhG,UAAU,CAACC,OAAhB;AACE,eAAKgC,SAAL;AACA,eAAKsE,WAAL;AACA,eAAKI,SAAL;AACA;;AACF,aAAK3G,UAAU,CAAC4F,OAAhB;AACE,eAAKgB,mBAAL;AACA;;AACF,aAAK5G,UAAU,CAACe,IAAhB;AACE,eAAK8F,oBAAL;AACA;AAXJ;AAaD;AA7GH;AAAA;AAAA,gCA+Gc;AACV,WAAKpI,KAAL,GAAauF,4CAAK,CAAC7G,MAAN,CAAa;AAAEtB,cAAM,EAAE,KAAKA,MAAf;AAAuB4C,aAAK,EAAE,KAAKA;AAAnC,OAAb,CAAb;AACD;AAjHH;AAAA;AAAA,2CAmHyB;AACrB,WAAKgI,kBAAL,GAA0BrE,sEAAkB,CAACjF,MAAnB,CAA0B;AAClDtB,cAAM,EAAE,KAAKA,MADqC;AAElDyG,mBAAW,EAAE,WAFqC;AAGlDtG,SAAC,EAAE,KAAK6F,KAH0C;AAIlD5F,SAAC,EAAE,KAAK6F,MAJ0C;AAKlDS,iBAAS,EAAE,SALuC;AAMlDC,eAAO,EAAE,KAAK/C;AANoC,OAA1B,CAA1B;AAQD;AA5HH;AAAA;AAAA,gCA8Hc;AACV,WAAK2G,KAAL,GAAaxE,oDAAS,CAACzE,MAAV,CAAiB;AAC5BtB,cAAM,EAAE,KAAKA,MADe;AAE5BgG,aAAK,EAAE,KAAKA,KAFgB;AAG5BC,cAAM,EAAE,KAAKA,MAHe;AAI5Bd,gBAAQ,EAAE,KAAKA;AAJa,OAAjB,CAAb;AAMD;AArIH;AAAA;AAAA,wBA6BsB;AAClB,aAAO,KAAKoF,KAAL,CAAW3E,aAAlB;AACD;AA/BH;AAAA;AAAA,wBAiCqB;AACjB,aAAO,KAAK2E,KAAL,CAAW5E,YAAlB;AACD;AAnCH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;ACjBO,IAAMqB,IAAb;AAAA;AAAA;AAAA;AAAA;;AACE;;;;AADF,2BAKgB1H,OALhB,EAKyB;AACrB,UAAMsD,KAAK,GAAG,IAAIoE,IAAJ,CAAS1H,OAAT,CAAd;AACAsD,WAAK,CAACpD,MAAN;AACA,aAAOoD,KAAP;AACD;AAED;;;;;AAXF;;AAeE,sBASG;AAAA,QARD5C,MAQC,QARDA,MAQC;AAAA,sBAPDS,CAOC;AAAA,QAPDA,CAOC,uBAPG,CAOH;AAAA,sBANDC,CAMC;AAAA,QANDA,CAMC,uBANG,CAMH;AAAA,QALDP,CAKC,QALDA,CAKC;AAAA,sBAJDC,CAIC;AAAA,QAJDA,CAIC,uBAJG,EAIH;AAAA,QAHDqG,WAGC,QAHDA,WAGC;AAAA,8BAFDC,SAEC;AAAA,QAFDA,SAEC,+BAFW,KAEX;AAAA,8BADDO,SACC;AAAA,QADDA,SACC,+BADW,MACX;;AAAA;;AACD,SAAK1G,GAAL,GAAWP,MAAM,CAACQ,UAAP,CAAkB,IAAlB,CAAX;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKC,CAAL,GAASA,CAAT;AACA,SAAKN,CAAL,GAASA,CAAT;AACA,SAAKD,CAAL,GAASA,CAAT;AACA,SAAKuG,SAAL,GAAiBA,SAAjB;AACA,SAAKD,WAAL,GAAmBA,WAAnB;AACA,SAAKQ,SAAL,GAAiBA,SAAjB;AACD;;AAjCH;AAAA;AAAA,6BAmCW;AACP,WAAK1G,GAAL,CAASI,SAAT,GAAqB,KAAK+F,SAA1B;AACA,WAAKnG,GAAL,CAAS0K,IAAT,aAAmB,KAAK7K,CAAxB;AACA,WAAKG,GAAL,CAAS0G,SAAT,GAAqB,KAAKA,SAA1B;AACA,WAAK1G,GAAL,CAAS2K,QAAT,CAAkB,KAAKzE,WAAvB,EAAoC,KAAKhG,CAAzC,EAA4C,KAAKC,CAAL,GAAS,KAAKN,CAA1D;AACD;AAxCH;AAAA;AAAA,4BA0CUqG,WA1CV,EA0CuB;AACnB,WAAKA,WAAL,GAAmBA,WAAnB;AACD;AA5CH;AAAA;AAAA,6BA8CW0E,KA9CX,EA8CkB;AACd,WAAKlE,SAAL,GAAiBkE,KAAjB;AACD;AAhDH;AAAA;AAAA,6BAkDW7K,KAlDX,EAkDkB;AACd,WAAKoG,SAAL,GAAiBpG,KAAjB;AACD;AApDH;;AAAA;AAAA,I;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAO,IAAM8K,YAAY,GAAG,SAAfA,YAAe,CAAAnL,GAAG,EAAI;AACjC,MAAIK,KAAK,GAAG,OAAZ;;AACA,MAAIL,GAAG,GAAG,CAAN,KAAY,CAAhB,EAAmB;AACjBK,SAAK,GAAG,OAAR;AACD;;AACD,SAAOA,KAAP;AACD,CANM;AAQA,IAAM8H,cAAc,GAAG,SAAjBA,cAAiB,CAAAxF,KAAK,EAAI;AACrC,MAAIA,KAAK,GAAG,EAAZ,EAAgB;AACd,uBAAYA,KAAZ;AACD;;AACD,MAAIA,KAAK,GAAG,GAAZ,EAAiB;AACf,sBAAWA,KAAX;AACD;;AACD,mBAAUA,KAAV;AACD,CARM;AAUA,IAAMsH,aAAa,GAAG,SAAhBA,aAAgB,OAAuB;AAAA,MAApBlE,KAAoB,QAApBA,KAAoB;AAAA,MAAbC,MAAa,QAAbA,MAAa;AAClD,MAAMoF,UAAU,GAAG,EAAnB;AACA,MAAMlG,QAAQ,GAAGe,IAAI,CAACC,KAAL,CAAWH,KAAK,GAAGqF,UAAnB,CAAjB;AACA,MAAMC,aAAa,GAAGnG,QAAQ,GAAGkG,UAAjC;AACA,MAAME,cAAc,GAAGrF,IAAI,CAACC,KAAL,CAAWF,MAAM,GAAGd,QAApB,IAAgCA,QAAvD;AACA,SAAO;AACLA,YAAQ,EAARA,QADK;AAELc,UAAM,EAAEsF,cAFH;AAGLvF,SAAK,EAAEsF;AAHF,GAAP;AAKD,CAVM,C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/*!\n * UAParser.js v0.7.21\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright Â© 2012-2019 Faisal Salman <f@faisalman.com>\n * Licensed under MIT License\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.21',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser\n            /(bidubrowser|baidubrowser)[\\/\\s]?([\\w\\.]+)/i,                      // Baidu Browser\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]*)/i,                                             // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            ], [NAME, VERSION], [\n\n            /(konqueror)\\/([\\w\\.]+)/i                                           // Konqueror\n            ], [[NAME, 'Konqueror'], VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge|edgios|edga|edg)\\/((\\d+)?[\\w\\.]+)/i                          // Microsoft Edge\n            ], [[NAME, 'Edge'], VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(Avast)\\/([\\w\\.]+)/i                                               // Avast Secure Browser\n            ], [[NAME, 'Avast Secure Browser'], VERSION], [\n\n            /(AVG)\\/([\\w\\.]+)/i                                                 // AVG Secure Browser\n            ], [[NAME, 'AVG Secure Browser'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /(focus)\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [[NAME, 'Firefox Focus'], VERSION], [\n\n            /(opt)\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [[NAME, 'Opera Touch'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i         // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(windowswechat qbcore)\\/([\\w\\.]+)/i                                // WeChat Desktop for Windows Built-in Browser\n            ], [[NAME, 'WeChat(Win) Desktop'], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(brave)\\/([\\w\\.]+)/i                                               // Brave browser\n            ], [[NAME, 'Brave'], VERSION], [\n\n            /(qqbrowserlite)\\/([\\w\\.]+)/i                                       // QQBrowserLite\n            ], [NAME, VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /(baiduboxapp)[\\/\\s]?([\\w\\.]+)/i                                    // Baidu App\n            ], [NAME, VERSION], [\n\n            /(2345Explorer)[\\/\\s]?([\\w\\.]+)/i                                   // 2345 Browser\n            ], [NAME, VERSION], [\n\n            /(MetaSr)[\\/\\s]?([\\w\\.]+)/i                                         // SouGouBrowser\n            ], [NAME], [\n\n            /(LBBROWSER)/i                                                      // LieBao Browser\n            ], [NAME], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /safari\\s(line)\\/([\\w\\.]+)/i,                                       // Line App for iOS\n            /android.+(line)\\/([\\w\\.]+)\\/iab/i                                  // Line App for Android\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)|\\s)/i                                 // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(sailfishbrowser)\\/([\\w\\.]+)/i                                     // Sailfish Browser\n            ], [[NAME, 'Sailfish Browser'], VERSION], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /(qihu|qhbrowser|qihoobrowser|360browser)/i                         // 360\n            ], [[NAME, '360 Browser']], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i  // Google Search Appliance on iOS\n            ], [[NAME, 'GSA'], VERSION], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i,\n\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]*)/i,                                         // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\),;-]+(rim|apple)/i                        // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple'], [TYPE, SMARTTV]], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/.+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i                         // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n            /android.+aft([bms])\\sbuild/i                                       // Fire TV\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, SMARTTV]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone|p00c)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i,                        // HTC\n            /(zte)-(\\w*)/i,                                                     // ZTE\n            /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i\n                                                                                // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p|vog-l29|ane-lx1|eml-l29)/i                              // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /android.+(bah2?-a?[lw]\\d{2})/i                                     // Huawei MediaPad\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, TABLET]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w*)/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w*)/i                                                        // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]*)/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i                   // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w*)/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+))/i             // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n            /(lenovo)[_\\s-]?([\\w-]+)/i\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google'], [TYPE, SMARTTV]], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)[\\s)]/i                                       // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel( [23])?( xl)?)[\\s)]/i                              // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+;\\s(\\w+)\\s+build\\/hm\\1/i,                                 // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i,    \n                                                                                // Xiaomi Mi\n            /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+))\\s+build/i       // Redmi Phones\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n            /android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]*[\\w\\s]+))\\s+build/i            // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n            /(mz)-([\\w-]{2,})/i\n            ], [[VENDOR, 'Meizu'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+a000(1)\\s+build/i,                                        // OnePlus\n            /android.+oneplus\\s(a\\d{4})[\\s)]/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i                      // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+;\\s(k88)\\sbuild/i                                         // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i        // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i                            // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i                    // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+;\\s(PH-1)\\s/i\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [                // Essential PH-1\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i          // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i                      // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /[\\s\\/\\(](smart-?tv)[;\\)]/i                                         // SmartTV\n            ], [[TYPE, SMARTTV]], [\n\n            /(android[\\w\\.\\s\\-]{0,9});.+build/i                                 // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,     \n                                                                                // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9}).+(gecko)/i                                       // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i,                   // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]*)/i,                                     // Blackberry\n            /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i,                                    // Tizen/KaiOS\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki/Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i                  // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w*)/i,                                            // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]*)/i,                                        // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]*)/i                                                // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.\\d]*)/i                                            // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i                    // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                   // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i             // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i,                             // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i,                                // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS/Fuchsia\n            /(unix)\\s?([\\w\\.]*)/i                                               // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var browser = { name: undefined, version: undefined };\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            var cpu = { architecture: undefined };\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            var device = { vendor: undefined, model: undefined, type: undefined };\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            var engine = { name: undefined, version: undefined };\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            var os = { name: undefined, version: undefined };\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === 'function' && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { Cell } from './cell';\nimport { ACCENT } from './palette';\n\nexport class Apple extends Cell {\n  static create(options) {\n    const apple = new Apple(options);\n    apple.render();\n    return apple;\n  }\n\n  constructor(options) {\n    super({ ...options, bgColor: ACCENT });\n    this.intervalId = null;\n  }\n\n  startShineInterval() {\n    window.clearInterval(this.intervalId);\n    this.intervalId = setInterval(() => {\n      this.bgColor = 'yellow';\n    }, 100);\n  }\n}\n","export class Cell {\n  static createWithColor({ canvas, col, row, w, h, bgColor }) {\n    const cell = new Cell({ canvas, col, row, w, h });\n    cell.color = bgColor;\n    cell.render();\n    return cell;\n  }\n\n  static create({ canvas, col, row, w, h }) {\n    const cell = new Cell({ canvas, col, row, w, h });\n    cell.render();\n    return cell;\n  }\n\n  constructor({ canvas, col, row, w, h, bgColor = '#FFF' }) {\n    this.ctx = canvas.getContext('2d');\n    this.w = w;\n    this.h = h;\n    this.col = col;\n    this.row = row;\n    this.x = col * this.w;\n    this.y = row * this.h;\n    this.color = bgColor;\n  }\n\n  /**\n   * *\n   * @param {string} color\n   */\n  set color(color) {\n    this.ctx.fillStyle = color;\n  }\n\n  get color() {\n    return this.ctx.fillStyle;\n  }\n\n  render() {\n    this.fillStyle = this.bgColor;\n    this.ctx.fillRect(this.x, this.y, this.w, this.h);\n    this.ctx.strokeStyle = '#FFF';\n    this.ctx.strokeRect(this.x, this.y, this.w, this.h);\n  }\n\n  clear() {\n    this.setDefaultColor();\n    this.render();\n  }\n\n  setDefaultColor() {\n    this.ctx.fillStyle = '#FFF';\n  }\n}\n","import { PlatformParser } from '../platformParser';\nimport { KeyboardControls } from './keyboardControls';\n\nexport class ControlsFactory {\n  static bootstrap(onSetDirection) {\n    const controls = new ControlsFactory(onSetDirection);\n    controls.init();\n    return controls;\n  }\n\n  constructor(onSetDirection) {\n    this.onSetDirection = onSetDirection;\n  }\n\n  init() {\n    const parser = PlatformParser.create();\n    const test = parser.isTouchSupports();\n    if (test) {\n      // This.controls = new TouchControls(this.onSetDirection)\n    } else {\n      this.controls = KeyboardControls.bootstrap(this.onSetDirection);\n    }\n  }\n\n  clear() {\n    this.controls.clear();\n  }\n}\n","import { DIRECTIONS } from '../snake.js';\n\nexport class KeyboardControls {\n  static bootstrap(onSetDirection) {\n    const controls = new KeyboardControls(onSetDirection);\n    controls.init();\n    return controls;\n  }\n\n  constructor(onSetDirection) {\n    this.onSetDirection = onSetDirection;\n    this.addEventListeners = this.addEventListeners.bind(this);\n  }\n\n  addEventListeners(e) {\n    switch (e.key) {\n      case 's':\n        this.onSetDirection(DIRECTIONS.BOTTOM);\n        break;\n      case 'w':\n        this.onSetDirection(DIRECTIONS.TOP);\n        break;\n      case 'd':\n        this.onSetDirection(DIRECTIONS.RIGHT);\n        break;\n      case 'a':\n        this.onSetDirection(DIRECTIONS.LEFT);\n        break;\n    }\n  }\n\n  init() {\n    document.addEventListener('keydown', this.addEventListeners);\n  }\n\n  clear() {\n    document.removeEventListener('keydown', this.addEventListeners);\n  }\n}\n","// extracted by mini-css-extract-plugin","import { Stage, GAME_MODES } from './stage.js';\nimport { Snake } from './snake.js';\nimport { ControlsFactory } from './controls/controlsFactory';\nimport './game.css';\n\nexport class Game {\n  /**\n   * @param {DOMElement} mp mountPoint where to render game\n   */\n  static create(mp) {\n    const game = new Game(mp);\n    game.init();\n    window.game = game;\n    return game;\n  }\n\n  /**\n   * @param {DOMElement} root mountPoint where to render game\n   */\n  constructor(root) {\n    this.root = root;\n    this.score = 0;\n    this.collision = false;\n    this.fps = 3;\n    this.lastTime = Date.now();\n\n    this.setDirection = this.setDirection.bind(this);\n  }\n\n  init() {\n    this.createGameContainer();\n    this.createStage();\n  }\n\n  createGameContainer() {\n    this.container = document.createElement('div');\n    this.container.classList.add('game-container');\n    this.root.append(this.container);\n  }\n\n  createStage() {\n    this.stage = Stage.create({\n      root: this.container,\n      onWelcomeScreenClick: () => this.startGame()\n    });\n  }\n\n  startGame() {\n    this.reset();\n    this.renderSnake();\n    this.createControls();\n    this.loop();\n  }\n\n  reset() {\n    this.collision = false;\n    this.score = 0;\n    this.stage.setMode(GAME_MODES.STARTED);\n  }\n\n  loop() {\n    if (this.collision) {\n      this.stopGame();\n      return;\n    }\n    const fpsInterval = 1000 / this.fps;\n    const currentTime = Date.now();\n    const elapsedTime = currentTime - this.lastTime;\n    this.requestedFrame = window.requestAnimationFrame(() => {\n      if (elapsedTime > fpsInterval) {\n        this.update();\n        this.lastTime = currentTime - elapsedTime % fpsInterval;\n      }\n      this.loop();\n    });\n  }\n\n  update() {\n    this.checkApple();\n    this.renderStage();\n    this.move();\n    this.checkCollisions();\n  }\n\n  renderStage() {\n    this.stage.score = this.score;\n    this.stage.render();\n  }\n\n  move() {\n    this.snake.move();\n    this.snake.render();\n  }\n\n  stopGame() {\n    window.cancelAnimationFrame(this.requestedFrame);\n    this.stage.setMode(GAME_MODES.OVER);\n  }\n\n  renderSnake() {\n    const { canvas, cellSize } = this.stage;\n    this.snake = Snake.create({\n      canvas,\n      cellSize\n    });\n  }\n\n  checkApple() {\n    const { col, row } = this.snake.head;\n    if (this.stage.isEat({ col, row })) {\n      this.snake.grow();\n      this.score += 1;\n      this.stage.updateApple();\n    }\n  }\n\n  checkCollisions() {\n    const { col, row } = this.snake.head;\n    this.collision =\n      this.checkStageCollision(col, row) || this.snake.checkSelfCollision();\n  }\n\n  checkStageCollision(col, row) {\n    return (\n      col >= this.stage.widthInCells ||\n      row >= this.stage.heightInCells ||\n      col < 0 ||\n      row < 0\n    );\n  }\n\n  setDirection(dir) {\n    this.snake.setDirection(dir);\n  }\n\n  createControls() {\n    this.constrols = ControlsFactory.bootstrap(this.setDirection);\n  }\n}\n","import { Cell } from './cell.js';\nimport { Apple } from './apple';\n\n/**\n * @typedef Params\n * @param {DOMElement} mp\n * @param {Number} width\n * @param {Number} height\n */\n\nexport class GameField {\n  /**\n   * @param {DOMElement} mp\n   * @param {Number} width\n   * @param {Number} height\n   */\n  static create(options) {\n    const stage = new GameField({ ...options });\n    stage.render();\n    return stage;\n  }\n\n  /**\n   * @param {DOMElement} mp\n   * @param {Number} width\n   * @param {Number} height\n   */\n  constructor({ canvas, width, height, cellSize }) {\n    this.cellSize = cellSize;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this.heightInCells = Math.floor(this.height / this.cellSize);\n    this.widthInCells = Math.floor(this.width / this.cellSize);\n  }\n\n  checkApple({ col, row }) {\n    return this.apple.col === col && this.apple.row === row;\n  }\n\n  /**\n   *\n   * @param {Object} coords\n   * @param {number} coords.col\n   * @param {number} coords.row\n   */\n  renderApple({ col, row }) {\n    this.apple = Apple.create({\n      canvas: this.canvas,\n      col,\n      row,\n      w: this.cellSize,\n      h: this.cellSize\n    });\n  }\n\n  render() {\n    this.drawField();\n  }\n\n  drawField() {\n    for (let row = 0; row < this.heightInCells; row += 1) {\n      for (let col = 0; col < this.widthInCells; col += 1) {\n        Cell.create({\n          canvas: this.canvas,\n          col,\n          row,\n          w: this.cellSize,\n          h: this.cellSize\n        });\n      }\n    }\n  }\n}\n","import { Game } from './game.js';\nconst body = document.querySelector('body');\nGame.create(body);\n","import { Text } from './text';\n\nexport class NotificationScreen {\n  static create(options) {\n    const screen = new NotificationScreen(options);\n    screen.addEventListeners();\n    screen.render();\n    return screen;\n  }\n\n  constructor({ canvas, w, h, textContent, textColor, onClick }) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.x = 0;\n    this.y = 0;\n    this.w = w;\n    this.h = h;\n    this.textContent = textContent;\n    this.textColor = textColor;\n    this.onClick = onClick;\n    this.clickHandler = this.clickHandler.bind(this);\n  }\n\n  render() {\n    this.drawBackground();\n    this.renderText();\n  }\n\n  renderText() {\n    this.text = Text.create({\n      canvas: this.canvas,\n      x: this.w / 2,\n      y: this.h / 2,\n      textContent: this.textContent,\n      textAlign: 'center',\n      textColor: this.textColor\n    });\n  }\n\n  drawBackground() {\n    this.ctx.fillStyle = 'rgba(0,0,0, .2)';\n    this.ctx.fillRect(this.x, this.y, this.w, this.h);\n  }\n\n  clickHandler() {\n    this.onClick();\n    this.canvas.removeEventListener('click', this.clickHandler);\n  }\n\n  addEventListeners() {\n    this.canvas.addEventListener('click', this.clickHandler);\n  }\n}\n","/* RGB */\nexport const ERROR = 'rgba(226, 21, 0, 1);';\nexport const ACCENT = 'rgba(68, 3, 129, 1)';\nexport const MAIN = 'rgba(9, 255, 0, 0.644)';\nexport const SECONDARY = 'rgba(48, 216, 245, 0.753)';\nexport const THIRDARY = 'rgba(48, 216, 245, 0.432)';\n","import { UAParser } from 'ua-parser-js';\n\nconst OS = {\n  IOS: 'iOS',\n  ANDROID: 'Android',\n  MAC_OS: 'Mac OS'\n};\nexport class PlatformParser {\n  static create() {\n    return new PlatformParser();\n  }\n\n  constructor() {\n    this.uaParser = new UAParser();\n    this.result = this.uaParser.getResult();\n  }\n\n  getOs() {\n    console.log(this.result.os);\n    return this.result.os.name;\n  }\n\n  isTouchSupports() {\n    return this.getOs() === OS.IOS || this.getOs() === OS.ANDROID;\n  }\n}\n","import { Text } from './text';\nimport { normalizeScore } from './utils';\nexport class Score extends Text {\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  static create(options) {\n    const score = new Score(options);\n    score.render();\n    return score;\n  }\n\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  constructor(options) {\n    super(options);\n    this.textContent = normalizeScore(options.score);\n    this.textColor = 'magenta';\n    this.x = 10;\n  }\n\n  setScore(score) {\n    this.textContent = normalizeScore(score);\n  }\n}\n","export class Screen {\n  static getViewportSize() {\n    const MAX_WIDTH = 1280;\n    const MAX_HEIGHT = 1280;\n    return {\n      width: Math.min(window.innerWidth, MAX_WIDTH),\n      height: Math.min(window.innerHeight, MAX_HEIGHT)\n    };\n  }\n}\n","import { Cell } from './cell.js';\nimport { MAIN } from './palette.js';\n/**\n * Directions enum\n * @readonly\n * @enum {number}\n */\nexport const DIRECTIONS = {\n  RIGHT: 0,\n  LEFT: 1,\n  TOP: 2,\n  BOTTOM: 3\n};\n\nexport class Snake {\n  static create({ canvas, cellSize, onMove, dir }) {\n    const snake = new Snake({ canvas, cellSize, onMove, dir });\n    snake.init();\n    snake.render();\n    return snake;\n  }\n\n  constructor({\n    canvas,\n    cellSize,\n    onMove,\n    onSelfCollision,\n    direction = DIRECTIONS.RIGHT\n  }) {\n    this._canvas = canvas;\n    this._cellSize = cellSize;\n    this._direction = direction;\n\n    this.onMove = onMove;\n    this.onSelfCollision = onSelfCollision;\n  }\n\n  init() {\n    this._segments = [\n      this.createSegment(7, 5, 'red'),\n      this.createSegment(6, 5),\n      this.createSegment(5, 5)\n    ];\n  }\n\n  checkSelfCollision() {\n    let hasCollision = false;\n    const [head] = this._segments;\n    for (let i = 1; i < this._segments.length; i += 1) {\n      if (\n        head.col === this._segments[i].col &&\n        head.row === this._segments[i].row\n      ) {\n        hasCollision = true;\n        break;\n      }\n    }\n    return hasCollision;\n  }\n\n  /**\n   * @param {DIRECTIONS} dir\n   */\n  setDirection(dir) {\n    if (this.isDirectionValid(dir)) {\n      this._direction = dir;\n    }\n  }\n\n  grow() {\n    const { col, row } = this.getNewHeadCoordinates();\n    this._segments.push(this.createSegment(col, row));\n  }\n\n  /**\n   * @return {Cell}\n   */\n  get head() {\n    return this._segments[0];\n  }\n\n  render() {\n    this._segments.forEach(segment => {\n      segment.render();\n    });\n  }\n\n  createSegment(col, row) {\n    const segment = Cell.createWithColor({\n      canvas: this._canvas,\n      col,\n      row,\n      w: this._cellSize,\n      h: this._cellSize,\n      bgColor: MAIN\n    });\n    return segment;\n  }\n\n  move() {\n    const { col, row } = this.getNewHeadCoordinates();\n    this._segments.unshift(this.createSegment(col, row));\n    this._segments.pop();\n  }\n\n  getNewHeadCoordinates() {\n    let { col, row } = this.head;\n    switch (this._direction) {\n      case DIRECTIONS.TOP:\n        row -= 1;\n        break;\n      case DIRECTIONS.LEFT:\n        col -= 1;\n        break;\n      case DIRECTIONS.BOTTOM:\n        row += 1;\n        break;\n      default:\n        col += 1;\n    }\n\n    return { col, row };\n  }\n\n  /**\n   * @param {number} newDir\n   * @return {boolean}\n   */\n  isDirectionValid(newDir) {\n    if (\n      (this._direction === DIRECTIONS.RIGHT ||\n        this._direction === DIRECTIONS.LEFT) &&\n      (newDir === DIRECTIONS.LEFT || newDir === DIRECTIONS.RIGHT)\n    ) {\n      return false;\n    }\n    if (\n      (this._direction === DIRECTIONS.TOP ||\n        this._direction === DIRECTIONS.BOTTOM) &&\n      (newDir === DIRECTIONS.TOP || newDir === DIRECTIONS.BOTTOM)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n}\n","import { GameField } from './gameField';\nimport { Score } from './score';\nimport { NotificationScreen } from './notificationScreen';\nimport { Screen } from './screen';\nimport { sizeGenerator } from './utils';\n/**\n * @typedef Params\n * @param {DOMElement} root\n * @param {Number} width\n * @param {Number} height\n */\n\nexport const GAME_MODES = {\n  PENDING: 0,\n  STARTED: 1,\n  OVER: 2\n};\nexport class Stage {\n  /**\n   * @param {DOMElement} root\n   */\n  static create(options) {\n    const { width, height } = Screen.getViewportSize();\n    console.log(width, height);\n    const sizes = sizeGenerator({ width, height });\n    const stage = new Stage({ ...options, ...sizes });\n    stage.init();\n    return stage;\n  }\n\n  /**\n   * @param {object} o\n   * @param {DOMElement} o.root\n   * @param {Number} o.width\n   * @param {Number} o.height\n   * @param {function} o.onWelcomeScreenClick\n   */\n  constructor({ root, onWelcomeScreenClick, width, height, cellSize }) {\n    this.root = root;\n    this.mode = GAME_MODES.PENDING;\n    this.width = width;\n    this.height = height;\n    this.cellSize = cellSize;\n    this.onWelcomeScreenClick = onWelcomeScreenClick;\n  }\n\n  get heightInCells() {\n    return this.field.heightInCells;\n  }\n\n  get widthInCells() {\n    return this.field.widthInCells;\n  }\n\n  setMode(gameMode) {\n    this.mode = gameMode;\n    this.render();\n  }\n\n  getRandomCell() {\n    const col = Math.ceil(Math.random() * this.widthInCells - 1);\n    const row = Math.ceil(Math.random() * this.heightInCells - 1);\n    return { col, row };\n  }\n\n  isEat({ col, row }) {\n    return this.field.checkApple({ col, row });\n  }\n\n  updateApple() {\n    this.appleCoords = this.getRandomCell();\n  }\n\n  /**\n   *\n   * @param {Object} coords\n   * @param {number} coords.col\n   * @param {number} coords.row\n   */\n  renderApple() {\n    if (!this.appleCoords) {\n      this.updateApple();\n    }\n    this.field.renderApple(this.appleCoords);\n  }\n\n  /**\n   * @returns {DOMElement}\n   */\n  init() {\n    this.createCanvas();\n    this.render();\n  }\n\n  renderWelcomeScreen() {\n    this.notificationScreen = NotificationScreen.create({\n      canvas: this.canvas,\n      w: this.width,\n      h: this.height,\n      textContent: 'START GAME',\n      onClick: this.onWelcomeScreenClick\n    });\n  }\n\n  createCanvas() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.width = this.width;\n    this.canvas.height = this.height;\n\n    this.root.appendChild(this.canvas);\n  }\n\n  render() {\n    switch (this.mode) {\n      case GAME_MODES.STARTED:\n        this.drawField();\n        this.renderApple();\n        this.drawScore();\n        break;\n      case GAME_MODES.PENDING:\n        this.renderWelcomeScreen();\n        break;\n      case GAME_MODES.OVER:\n        this.renderGameOverScreen();\n        break;\n    }\n  }\n\n  drawScore() {\n    this.score = Score.create({ canvas: this.canvas, score: this.score });\n  }\n\n  renderGameOverScreen() {\n    this.notificationScreen = NotificationScreen.create({\n      canvas: this.canvas,\n      textContent: 'GAME OVER',\n      w: this.width,\n      h: this.height,\n      textColor: 'magenta',\n      onClick: this.onWelcomeScreenClick\n    });\n  }\n\n  drawField() {\n    this.field = GameField.create({\n      canvas: this.canvas,\n      width: this.width,\n      height: this.height,\n      cellSize: this.cellSize\n    });\n  }\n}\n","export class Text {\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  static create(options) {\n    const score = new Text(options);\n    score.render();\n    return score;\n  }\n\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  constructor({\n    canvas,\n    x = 0,\n    y = 0,\n    w,\n    h = 22,\n    textContent,\n    textColor = 'red',\n    textAlign = 'left'\n  }) {\n    this.ctx = canvas.getContext('2d');\n    this.x = x;\n    this.y = y;\n    this.h = h;\n    this.w = w;\n    this.textColor = textColor;\n    this.textContent = textContent;\n    this.textAlign = textAlign;\n  }\n\n  render() {\n    this.ctx.fillStyle = this.textColor;\n    this.ctx.font = `${this.h}px Helvetica`;\n    this.ctx.textAlign = this.textAlign;\n    this.ctx.fillText(this.textContent, this.x, this.y + this.h);\n  }\n\n  setText(textContent) {\n    this.textContent = textContent;\n  }\n\n  setAlign(align) {\n    this.textAlign = align;\n  }\n\n  setColor(color) {\n    this.textColor = color;\n  }\n}\n","export const getCellColor = col => {\n  let color = 'white';\n  if (col % 2 === 0) {\n    color = 'white';\n  }\n  return color;\n};\n\nexport const normalizeScore = score => {\n  if (score < 10) {\n    return `00${score}`;\n  }\n  if (score < 100) {\n    return `0${score}`;\n  }\n  return `${score}`;\n};\n\nexport const sizeGenerator = ({ width, height }) => {\n  const CELL_COUNT = 16;\n  const cellSize = Math.floor(width / CELL_COUNT);\n  const adjustedWidth = cellSize * CELL_COUNT;\n  const adjustedHeight = Math.floor(height / cellSize) * cellSize;\n  return {\n    cellSize,\n    height: adjustedHeight,\n    width: adjustedWidth\n  };\n};\n"],"sourceRoot":""}