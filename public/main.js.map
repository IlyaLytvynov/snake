{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/ua-parser-js/src/ua-parser.js","webpack:///./src/components/apple.js","webpack:///./src/components/cell.js","webpack:///./src/components/gameField.js","webpack:///./src/components/notificationScreen.js","webpack:///./src/components/score.js","webpack:///./src/components/snake.js","webpack:///./src/components/stage.js","webpack:///./src/components/text.js","webpack:///./src/controls/baseControls.js","webpack:///./src/controls/controlsFactory.js","webpack:///./src/controls/keyboardControls.js","webpack:///./src/controls/touchControls.js","webpack:///./src/game.css","webpack:///./src/game.js","webpack:///./src/index.js","webpack:///./src/utils/converters.js","webpack:///./src/utils/palette.js","webpack:///./src/utils/platformParser.js","webpack:///./src/utils/screen.js"],"names":["Apple","options","apple","render","bgColor","ACCENT","intervalId","window","clearInterval","setInterval","Cell","cell","color","canvas","col","row","w","h","scale","ctx","getContext","x","y","fillStyle","fillRect","strokeStyle","strokeRect","setDefaultColor","GameField","stage","width","height","cellSize","heightInCells","Math","floor","widthInCells","create","drawField","NotificationScreen","screen","addEventListeners","textContent","textColor","onClick","clickHandler","bind","drawBackground","renderText","text","Text","textAlign","removeEventListener","addEventListener","Score","score","normalizeScore","DIRECTIONS","RIGHT","LEFT","TOP","BOTTOM","Snake","onMove","dir","snake","init","onSelfCollision","direction","_canvas","_cellSize","_direction","_segments","createSegment","hasCollision","head","i","length","isDirectionValid","getNewHeadCoordinates","push","forEach","segment","createWithColor","MAIN","unshift","pop","newDir","GAME_MODES","PENDING","STARTED","OVER","Stage","sizes","sizeGenerator","Screen","getViewportSize","root","onWelcomeScreenClick","mode","gameMode","ceil","random","field","checkApple","appleCoords","getRandomCell","updateApple","renderApple","createCanvas","notificationScreen","document","createElement","style","appendChild","drawScore","renderWelcomeScreen","renderGameOverScreen","font","fillText","align","BaseControls","onSetDirection","target","Error","ControlsFactory","controls","parser","PlatformParser","test","isTouchSupports","TouchControls","bootstrap","KeyboardControls","clear","KEYS","UP","DOWN","e","key","touches","touch","pageX","pageY","startCoords","console","log","changedTouches","endCoords","setDirection","dX","calcDelta","dY","abs","setHorisontalDirection","setVerticalDirection","prev","current","Game","mp","game","collision","fps","lastTime","Date","now","createGameContainer","createStage","fullscreenify","scrollIntoView","container","classList","add","append","startGame","reset","renderSnake","createControls","loop","setMode","stopGame","fpsInterval","currentTime","elapsedTime","requestedFrame","requestAnimationFrame","update","renderStage","move","checkCollisions","cancelAnimationFrame","isEat","grow","checkStageCollision","checkSelfCollision","constrols","body","querySelector","getCellColor","CELL_COUNT","adjustedWidth","adjustedHeight","ERROR","SECONDARY","THIRDARY","OS","IOS","ANDROID","MAC_OS","uaParser","UAParser","result","getResult","os","name","getOs","MAX_WIDTH","MAX_HEIGHT","devicePixelRatio","min","innerWidth","innerHeight"],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA,0CAA0C;AAC1C;;AAEA;AACA;;AAEA;;AAEA;AACA,mCAAmC,kBAAkB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA,mCAAmC,mBAAmB;AACtD;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,cAAc,gBAAgB;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,8CAA8C,EAAE;AAChD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,sDAAsD;AACtD;;AAEA,sBAAsB;AACtB;;AAEA,+BAA+B;AAC/B;;AAEA;AACA,kCAAkC,MAAM;AACxC;;AAEA,+C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A2B;AAC3B;AACA,wDAAwD;AACxD;AACA;AACA;AACA,uBAAuB;AACvB;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA,sBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,YAAY,IAA2C;AACvD,YAAY,mCAAO;AACnB;AACA,aAAa;AAAA,oGAAC;AACd,SAAS,MAAM,EAGN;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC34BD;AACA;AAEO,IAAMA,KAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2BACgBC,OADhB,EACyB;AACrB,UAAMC,KAAK,GAAG,IAAIF,KAAJ,CAAUC,OAAV,CAAd;AACAC,WAAK,CAACC,MAAN;AACA,aAAOD,KAAP;AACD;AALH;;AAOE,iBAAYD,OAAZ,EAAqB;AAAA;;AAAA;;AACnB,iGAAWA,OAAX;AAAoBG,aAAO,EAAEC,qDAAMA;AAAnC;AACA,UAAKC,UAAL,GAAkB,IAAlB;AAFmB;AAGpB;;AAVH;AAAA;AAAA,yCAYuB;AAAA;;AACnBC,YAAM,CAACC,aAAP,CAAqB,KAAKF,UAA1B;AACA,WAAKA,UAAL,GAAkBG,WAAW,CAAC,YAAM;AAClC,cAAI,CAACL,OAAL,GAAe,QAAf;AACD,OAF4B,EAE1B,GAF0B,CAA7B;AAGD;AAjBH;;AAAA;AAAA,EA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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/*!\n * UAParser.js v0.7.21\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright Â© 2012-2019 Faisal Salman <f@faisalman.com>\n * Licensed under MIT License\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.21',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser\n            /(bidubrowser|baidubrowser)[\\/\\s]?([\\w\\.]+)/i,                      // Baidu Browser\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]*)/i,                                             // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            ], [NAME, VERSION], [\n\n            /(konqueror)\\/([\\w\\.]+)/i                                           // Konqueror\n            ], [[NAME, 'Konqueror'], VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge|edgios|edga|edg)\\/((\\d+)?[\\w\\.]+)/i                          // Microsoft Edge\n            ], [[NAME, 'Edge'], VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(Avast)\\/([\\w\\.]+)/i                                               // Avast Secure Browser\n            ], [[NAME, 'Avast Secure Browser'], VERSION], [\n\n            /(AVG)\\/([\\w\\.]+)/i                                                 // AVG Secure Browser\n            ], [[NAME, 'AVG Secure Browser'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /(focus)\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [[NAME, 'Firefox Focus'], VERSION], [\n\n            /(opt)\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [[NAME, 'Opera Touch'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i         // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(windowswechat qbcore)\\/([\\w\\.]+)/i                                // WeChat Desktop for Windows Built-in Browser\n            ], [[NAME, 'WeChat(Win) Desktop'], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(brave)\\/([\\w\\.]+)/i                                               // Brave browser\n            ], [[NAME, 'Brave'], VERSION], [\n\n            /(qqbrowserlite)\\/([\\w\\.]+)/i                                       // QQBrowserLite\n            ], [NAME, VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /(baiduboxapp)[\\/\\s]?([\\w\\.]+)/i                                    // Baidu App\n            ], [NAME, VERSION], [\n\n            /(2345Explorer)[\\/\\s]?([\\w\\.]+)/i                                   // 2345 Browser\n            ], [NAME, VERSION], [\n\n            /(MetaSr)[\\/\\s]?([\\w\\.]+)/i                                         // SouGouBrowser\n            ], [NAME], [\n\n            /(LBBROWSER)/i                                                      // LieBao Browser\n            ], [NAME], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /safari\\s(line)\\/([\\w\\.]+)/i,                                       // Line App for iOS\n            /android.+(line)\\/([\\w\\.]+)\\/iab/i                                  // Line App for Android\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)|\\s)/i                                 // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(sailfishbrowser)\\/([\\w\\.]+)/i                                     // Sailfish Browser\n            ], [[NAME, 'Sailfish Browser'], VERSION], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /(qihu|qhbrowser|qihoobrowser|360browser)/i                         // 360\n            ], [[NAME, '360 Browser']], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i  // Google Search Appliance on iOS\n            ], [[NAME, 'GSA'], VERSION], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i,\n\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]*)/i,                                         // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\),;-]+(rim|apple)/i                        // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple'], [TYPE, SMARTTV]], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/.+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i                         // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n            /android.+aft([bms])\\sbuild/i                                       // Fire TV\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, SMARTTV]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone|p00c)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i,                        // HTC\n            /(zte)-(\\w*)/i,                                                     // ZTE\n            /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i\n                                                                                // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p|vog-l29|ane-lx1|eml-l29)/i                              // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /android.+(bah2?-a?[lw]\\d{2})/i                                     // Huawei MediaPad\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, TABLET]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w*)/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w*)/i                                                        // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]*)/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i                   // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w*)/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+))/i             // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n            /(lenovo)[_\\s-]?([\\w-]+)/i\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google'], [TYPE, SMARTTV]], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)[\\s)]/i                                       // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel( [23])?( xl)?)[\\s)]/i                              // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+;\\s(\\w+)\\s+build\\/hm\\1/i,                                 // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i,    \n                                                                                // Xiaomi Mi\n            /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+))\\s+build/i       // Redmi Phones\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n            /android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]*[\\w\\s]+))\\s+build/i            // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n            /(mz)-([\\w-]{2,})/i\n            ], [[VENDOR, 'Meizu'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+a000(1)\\s+build/i,                                        // OnePlus\n            /android.+oneplus\\s(a\\d{4})[\\s)]/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i                      // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+;\\s(k88)\\sbuild/i                                         // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i        // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i                            // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i                    // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+;\\s(PH-1)\\s/i\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [                // Essential PH-1\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i          // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i                      // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /[\\s\\/\\(](smart-?tv)[;\\)]/i                                         // SmartTV\n            ], [[TYPE, SMARTTV]], [\n\n            /(android[\\w\\.\\s\\-]{0,9});.+build/i                                 // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,     \n                                                                                // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9}).+(gecko)/i                                       // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i,                   // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]*)/i,                                     // Blackberry\n            /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i,                                    // Tizen/KaiOS\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki/Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i                  // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w*)/i,                                            // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]*)/i,                                        // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]*)/i                                                // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.\\d]*)/i                                            // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i                    // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                   // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i             // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i,                             // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i,                                // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS/Fuchsia\n            /(unix)\\s?([\\w\\.]*)/i                                               // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var browser = { name: undefined, version: undefined };\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            var cpu = { architecture: undefined };\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            var device = { vendor: undefined, model: undefined, type: undefined };\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            var engine = { name: undefined, version: undefined };\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            var os = { name: undefined, version: undefined };\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === 'function' && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","import { Cell } from './cell';\nimport { ACCENT } from '../utils/palette';\n\nexport class Apple extends Cell {\n  static create(options) {\n    const apple = new Apple(options);\n    apple.render();\n    return apple;\n  }\n\n  constructor(options) {\n    super({ ...options, bgColor: ACCENT });\n    this.intervalId = null;\n  }\n\n  startShineInterval() {\n    window.clearInterval(this.intervalId);\n    this.intervalId = setInterval(() => {\n      this.bgColor = 'yellow';\n    }, 100);\n  }\n}\n","export class Cell {\n  static createWithColor({ bgColor, ...options }) {\n    const cell = new Cell(options);\n    cell.color = bgColor;\n    cell.render();\n    return cell;\n  }\n\n  static create(options) {\n    const cell = new Cell(options);\n    cell.render();\n    return cell;\n  }\n\n  constructor({ canvas, col, row, w, h, scale, bgColor = '#FFF' }) {\n    this.ctx = canvas.getContext('2d');\n    this.ctx.scale(scale, scale);\n    this.w = w;\n    this.h = h;\n    this.scale = scale;\n    this.col = col;\n    this.row = row;\n    this.x = col * this.w;\n    this.y = row * this.h;\n    this.color = bgColor;\n  }\n\n  /**\n   * *\n   * @param {string} color\n   */\n  set color(color) {\n    this.ctx.fillStyle = color;\n  }\n\n  get color() {\n    return this.ctx.fillStyle;\n  }\n\n  render() {\n    this.fillStyle = this.bgColor;\n    this.ctx.fillRect(this.x, this.y, this.w, this.h);\n    this.ctx.strokeStyle = '#FFF';\n    this.ctx.strokeRect(this.x, this.y, this.w, this.h);\n  }\n\n  clear() {\n    this.setDefaultColor();\n    this.render();\n  }\n\n  setDefaultColor() {\n    this.ctx.fillStyle = '#FFF';\n  }\n}\n","import { Cell } from './cell';\nimport { Apple } from './apple';\n\n/**\n * @typedef Params\n * @param {DOMElement} mp\n * @param {Number} width\n * @param {Number} height\n */\n\nexport class GameField {\n  /**\n   * @param {DOMElement} mp\n   * @param {Number} width\n   * @param {Number} height\n   */\n  static create(options) {\n    const stage = new GameField({ ...options });\n    stage.render();\n    return stage;\n  }\n\n  /**\n   * @param {DOMElement} mp\n   * @param {Number} width\n   * @param {Number} height\n   */\n  constructor({ canvas, width, height, cellSize }) {\n    this.cellSize = cellSize;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this.heightInCells = Math.floor(this.height / this.cellSize);\n    this.widthInCells = Math.floor(this.width / this.cellSize);\n  }\n\n  checkApple({ col, row }) {\n    return this.apple.col === col && this.apple.row === row;\n  }\n\n  /**\n   *\n   * @param {Object} coords\n   * @param {number} coords.col\n   * @param {number} coords.row\n   */\n  renderApple({ col, row }) {\n    this.apple = Apple.create({\n      canvas: this.canvas,\n      col,\n      row,\n      w: this.cellSize,\n      h: this.cellSize\n    });\n  }\n\n  render() {\n    this.drawField();\n  }\n\n  drawField() {\n    for (let row = 0; row < this.heightInCells; row += 1) {\n      for (let col = 0; col < this.widthInCells; col += 1) {\n        Cell.create({\n          canvas: this.canvas,\n          col,\n          row,\n          w: this.cellSize,\n          h: this.cellSize\n        });\n      }\n    }\n  }\n}\n","import { Text } from './text';\n\nexport class NotificationScreen {\n  static create(options) {\n    const screen = new NotificationScreen(options);\n    screen.addEventListeners();\n    screen.render();\n    return screen;\n  }\n\n  constructor({ canvas, w, h, textContent, textColor, onClick }) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.x = 0;\n    this.y = 0;\n    this.w = w;\n    this.h = h;\n    this.textContent = textContent;\n    this.textColor = textColor;\n    this.onClick = onClick;\n    this.clickHandler = this.clickHandler.bind(this);\n  }\n\n  render() {\n    this.drawBackground();\n    this.renderText();\n  }\n\n  renderText() {\n    this.text = Text.create({\n      canvas: this.canvas,\n      x: this.w / 2,\n      y: this.h / 2,\n      textContent: this.textContent,\n      textAlign: 'center',\n      textColor: this.textColor\n    });\n  }\n\n  drawBackground() {\n    this.ctx.fillStyle = 'rgba(0,0,0, .2)';\n    this.ctx.fillRect(this.x, this.y, this.w, this.h);\n  }\n\n  clickHandler() {\n    this.onClick();\n    this.canvas.removeEventListener('click', this.clickHandler);\n  }\n\n  addEventListeners() {\n    this.canvas.addEventListener('click', this.clickHandler);\n  }\n}\n","import { Text } from './text';\nimport { normalizeScore } from '../utils/converters';\nexport class Score extends Text {\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  static create(options) {\n    const score = new Score(options);\n    score.render();\n    return score;\n  }\n\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  constructor(options) {\n    super(options);\n    this.textContent = normalizeScore(options.score);\n    this.textColor = 'magenta';\n    this.x = 10;\n  }\n\n  setScore(score) {\n    this.textContent = normalizeScore(score);\n  }\n}\n","import { Cell } from './cell';\nimport { MAIN } from '../utils/palette';\n/**\n * Directions enum\n * @readonly\n * @enum {number}\n */\nexport const DIRECTIONS = {\n  RIGHT: 0,\n  LEFT: 1,\n  TOP: 2,\n  BOTTOM: 3\n};\n\nexport class Snake {\n  static create({ canvas, cellSize, onMove, dir }) {\n    const snake = new Snake({ canvas, cellSize, onMove, dir });\n    snake.init();\n    snake.render();\n    return snake;\n  }\n\n  constructor({\n    canvas,\n    cellSize,\n    onMove,\n    onSelfCollision,\n    direction = DIRECTIONS.RIGHT\n  }) {\n    this._canvas = canvas;\n    this._cellSize = cellSize;\n    this._direction = direction;\n\n    this.onMove = onMove;\n    this.onSelfCollision = onSelfCollision;\n  }\n\n  init() {\n    this._segments = [\n      this.createSegment(7, 5, 'red'),\n      this.createSegment(6, 5),\n      this.createSegment(5, 5)\n    ];\n  }\n\n  checkSelfCollision() {\n    let hasCollision = false;\n    const [head] = this._segments;\n    for (let i = 1; i < this._segments.length; i += 1) {\n      if (\n        head.col === this._segments[i].col &&\n        head.row === this._segments[i].row\n      ) {\n        hasCollision = true;\n        break;\n      }\n    }\n    return hasCollision;\n  }\n\n  /**\n   * @param {DIRECTIONS} dir\n   */\n  setDirection(dir) {\n    if (this.isDirectionValid(dir)) {\n      this._direction = dir;\n    }\n  }\n\n  grow() {\n    const { col, row } = this.getNewHeadCoordinates();\n    this._segments.push(this.createSegment(col, row));\n  }\n\n  /**\n   * @return {Cell}\n   */\n  get head() {\n    return this._segments[0];\n  }\n\n  render() {\n    this._segments.forEach(segment => {\n      segment.render();\n    });\n  }\n\n  createSegment(col, row) {\n    const segment = Cell.createWithColor({\n      canvas: this._canvas,\n      col,\n      row,\n      w: this._cellSize,\n      h: this._cellSize,\n      bgColor: MAIN\n    });\n    return segment;\n  }\n\n  move() {\n    const { col, row } = this.getNewHeadCoordinates();\n    this._segments.unshift(this.createSegment(col, row));\n    this._segments.pop();\n  }\n\n  getNewHeadCoordinates() {\n    let { col, row } = this.head;\n    switch (this._direction) {\n      case DIRECTIONS.TOP:\n        row -= 1;\n        break;\n      case DIRECTIONS.LEFT:\n        col -= 1;\n        break;\n      case DIRECTIONS.BOTTOM:\n        row += 1;\n        break;\n      default:\n        col += 1;\n    }\n\n    return { col, row };\n  }\n\n  /**\n   * @param {number} newDir\n   * @return {boolean}\n   */\n  isDirectionValid(newDir) {\n    if (\n      (this._direction === DIRECTIONS.RIGHT ||\n        this._direction === DIRECTIONS.LEFT) &&\n      (newDir === DIRECTIONS.LEFT || newDir === DIRECTIONS.RIGHT)\n    ) {\n      return false;\n    }\n    if (\n      (this._direction === DIRECTIONS.TOP ||\n        this._direction === DIRECTIONS.BOTTOM) &&\n      (newDir === DIRECTIONS.TOP || newDir === DIRECTIONS.BOTTOM)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n}\n","import { GameField } from './gameField';\nimport { Score } from './score';\nimport { NotificationScreen } from './notificationScreen';\nimport { Screen } from '../utils/screen';\nimport { sizeGenerator } from '../utils/converters';\n/**\n * @typedef Params\n * @param {DOMElement} root\n * @param {Number} width\n * @param {Number} height\n */\n\nexport const GAME_MODES = {\n  PENDING: 0,\n  STARTED: 1,\n  OVER: 2\n};\nexport class Stage {\n  /**\n   * @param {DOMElement} root\n   */\n  static create(options) {\n    const sizes = sizeGenerator(Screen.getViewportSize());\n    const stage = new Stage({ ...options, ...sizes });\n    stage.init();\n    return stage;\n  }\n\n  /**\n   * @param {object} o\n   * @param {DOMElement} o.root\n   * @param {Number} o.width\n   * @param {Number} o.height\n   * @param {function} o.onWelcomeScreenClick\n   */\n  constructor({ root, onWelcomeScreenClick, width, height, cellSize, scale }) {\n    this.root = root;\n    this.mode = GAME_MODES.PENDING;\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.cellSize = cellSize;\n    this.onWelcomeScreenClick = onWelcomeScreenClick;\n  }\n\n  get heightInCells() {\n    return this.field.heightInCells;\n  }\n\n  get widthInCells() {\n    return this.field.widthInCells;\n  }\n\n  setMode(gameMode) {\n    this.mode = gameMode;\n    this.render();\n  }\n\n  getRandomCell() {\n    const col = Math.ceil(Math.random() * this.widthInCells - 1);\n    const row = Math.ceil(Math.random() * this.heightInCells - 1);\n    return { col, row };\n  }\n\n  isEat({ col, row }) {\n    return this.field.checkApple({ col, row });\n  }\n\n  updateApple() {\n    this.appleCoords = this.getRandomCell();\n  }\n\n  /**\n   *\n   * @param {Object} coords\n   * @param {number} coords.col\n   * @param {number} coords.row\n   */\n  renderApple() {\n    if (!this.appleCoords) {\n      this.updateApple();\n    }\n    this.field.renderApple(this.appleCoords);\n  }\n\n  /**\n   * @returns {DOMElement}\n   */\n  init() {\n    this.createCanvas();\n    this.render();\n  }\n\n  renderWelcomeScreen() {\n    this.notificationScreen = NotificationScreen.create({\n      canvas: this.canvas,\n      scale: this.scale,\n      w: this.width,\n      h: this.height,\n      textContent: 'START GAME',\n      onClick: this.onWelcomeScreenClick\n    });\n  }\n\n  createCanvas() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.style.width = `${this.width}px`;\n    this.canvas.style.height = `${this.height}px`;\n    this.canvas.width = this.width * this.scale;\n    this.canvas.height = this.height * this.scale;\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.scale(this.scale, this.scale);\n    this.root.appendChild(this.canvas);\n  }\n\n  render() {\n    switch (this.mode) {\n      case GAME_MODES.STARTED:\n        this.drawField();\n        this.renderApple();\n        this.drawScore();\n        break;\n      case GAME_MODES.PENDING:\n        this.renderWelcomeScreen();\n        break;\n      case GAME_MODES.OVER:\n        this.renderGameOverScreen();\n        break;\n    }\n  }\n\n  drawScore() {\n    this.score = Score.create({ canvas: this.canvas, score: this.score });\n  }\n\n  renderGameOverScreen() {\n    this.notificationScreen = NotificationScreen.create({\n      canvas: this.canvas,\n      textContent: 'GAME OVER',\n      scale: this.scale,\n      w: this.width,\n      h: this.height,\n      textColor: 'magenta',\n      onClick: this.onWelcomeScreenClick\n    });\n  }\n\n  drawField() {\n    this.field = GameField.create({\n      canvas: this.canvas,\n      scale: this.scale,\n      width: this.width,\n      height: this.height,\n      cellSize: this.cellSize\n    });\n  }\n}\n","export class Text {\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  static create(options) {\n    const score = new Text(options);\n    score.render();\n    return score;\n  }\n\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  constructor({\n    canvas,\n    x = 0,\n    y = 0,\n    w,\n    h = 22,\n    textContent,\n    textColor = 'red',\n    textAlign = 'left'\n  }) {\n    this.ctx = canvas.getContext('2d');\n    this.x = x;\n    this.y = y;\n    this.h = h;\n    this.w = w;\n    this.textColor = textColor;\n    this.textContent = textContent;\n    this.textAlign = textAlign;\n  }\n\n  render() {\n    this.ctx.fillStyle = this.textColor;\n    this.ctx.font = `${this.h}px Helvetica`;\n    this.ctx.textAlign = this.textAlign;\n    this.ctx.fillText(this.textContent, this.x, this.y + this.h);\n  }\n\n  setText(textContent) {\n    this.textContent = textContent;\n  }\n\n  setAlign(align) {\n    this.textAlign = align;\n  }\n\n  setColor(color) {\n    this.textColor = color;\n  }\n}\n","export class BaseControls {\n  constructor(onSetDirection, target) {\n    this.onSetDirection = onSetDirection;\n    this.addEventListeners = this.addEventListeners.bind(this);\n    this.target = target;\n  }\n\n  addEventListeners() {\n    throw Error('@override');\n  }\n\n  init() {\n    throw Error('@override');\n  }\n\n  clear() {\n    throw Error('@override');\n  }\n}\n","import { PlatformParser } from '../utils/platformParser';\nimport { KeyboardControls } from './keyboardControls';\nimport { TouchControls } from './touchControls';\nexport class ControlsFactory {\n  static bootstrap(onSetDirection, target) {\n    const controls = new ControlsFactory(onSetDirection, target);\n    controls.init();\n    return controls;\n  }\n\n  constructor(onSetDirection, target) {\n    this.onSetDirection = onSetDirection;\n    this.target = target;\n  }\n\n  init() {\n    const parser = PlatformParser.create();\n    const test = parser.isTouchSupports();\n    if (test) {\n      this.controls = TouchControls.bootstrap(this.onSetDirection, this.target);\n    } else {\n      this.controls = KeyboardControls.bootstrap(this.onSetDirection, document);\n    }\n  }\n\n  clear() {\n    this.controls.clear();\n  }\n}\n","import { DIRECTIONS } from '../components/snake';\nimport { BaseControls } from './baseControls';\n\nconst KEYS = {\n  UP: 'w',\n  DOWN: 's',\n  LEFT: 'a',\n  RIGHT: 'd'\n};\nexport class KeyboardControls extends BaseControls {\n  static bootstrap(onSetDirection, target) {\n    const controls = new KeyboardControls(onSetDirection, target);\n    controls.init();\n    return controls;\n  }\n\n  addEventListeners(e) {\n    switch (e.key) {\n      case KEYS.DOWN:\n        this.onSetDirection(DIRECTIONS.BOTTOM);\n        break;\n      case KEYS.UP:\n        this.onSetDirection(DIRECTIONS.TOP);\n        break;\n      case KEYS.RIGHT:\n        this.onSetDirection(DIRECTIONS.RIGHT);\n        break;\n      case KEYS.LEFT:\n        this.onSetDirection(DIRECTIONS.LEFT);\n        break;\n    }\n  }\n\n  init() {\n    this.target.addEventListener('keydown', this.addEventListeners);\n  }\n\n  clear() {\n    this.target.removeEventListener('keydown', this.addEventListeners);\n  }\n}\n","import { BaseControls } from './baseControls';\nimport { DIRECTIONS } from '../components/snake';\nexport class TouchControls extends BaseControls {\n  static bootstrap(onSetDirection, target) {\n    const controls = new TouchControls(onSetDirection, target);\n    controls.init();\n    return controls;\n  }\n\n  addEventListeners() {\n    this.target.addEventListener('touchstart', e => {\n      const [touch] = e.touches;\n      if (!touch) {\n        return;\n      }\n      const { pageX: x, pageY: y } = touch;\n      this.startCoords = { x, y };\n      console.log(this.startCoords);\n    });\n\n    this.target.addEventListener('touchend', e => {\n      const [touch] = e.changedTouches;\n      if (!touch) {\n        return;\n      }\n      const { pageX: x, pageY: y } = touch;\n      this.endCoords = { x, y };\n      this.setDirection();\n    });\n  }\n\n  setDirection() {\n    const dX = this.calcDelta(this.startCoords.x, this.endCoords.x);\n    const dY = this.calcDelta(this.startCoords.y, this.endCoords.y);\n    console.log(dX, dY);\n    if (Math.abs(dX) > Math.abs(dY)) {\n      this.setHorisontalDirection(dX);\n      return;\n    }\n    this.setVerticalDirection(dY);\n  }\n\n  setHorisontalDirection(dX) {\n    if (dX > 0) {\n      this.onSetDirection(DIRECTIONS.LEFT);\n      return;\n    }\n    this.onSetDirection(DIRECTIONS.RIGHT);\n  }\n\n  setVerticalDirection(dY) {\n    if (dY > 0) {\n      this.onSetDirection(DIRECTIONS.TOP);\n      return;\n    }\n    this.onSetDirection(DIRECTIONS.BOTTOM);\n  }\n\n  calcDelta(prev, current) {\n    if (Math.abs(prev - current) < 10) {\n      return 0;\n    }\n    return prev - current;\n  }\n\n  init() {\n    this.addEventListeners();\n  }\n\n  clear() {\n    console.log('CLEAR');\n  }\n}\n","// extracted by mini-css-extract-plugin","import { Stage, GAME_MODES } from './components/stage';\nimport { Snake } from './components/snake';\nimport { ControlsFactory } from './controls/controlsFactory';\nimport './game.css';\n\nexport class Game {\n  /**\n   * @param {DOMElement} mp mountPoint where to render game\n   */\n  static create(mp) {\n    const game = new Game(mp);\n    game.init();\n    window.game = game;\n    return game;\n  }\n\n  /**\n   * @param {DOMElement} root mountPoint where to render game\n   */\n  constructor(root) {\n    this.root = root;\n    this.score = 0;\n    this.collision = false;\n    this.fps = 3;\n    this.lastTime = Date.now();\n\n    this.setDirection = this.setDirection.bind(this);\n  }\n\n  init() {\n    this.createGameContainer();\n    this.createStage();\n    this.fullscreenify();\n  }\n\n  fullscreenify() {\n    this.stage.canvas.scrollIntoView(true);\n  }\n\n  createGameContainer() {\n    this.container = document.createElement('div');\n    this.container.classList.add('game-container');\n    this.root.append(this.container);\n  }\n\n  createStage() {\n    this.stage = Stage.create({\n      root: this.container,\n      onWelcomeScreenClick: () => this.startGame()\n    });\n  }\n\n  startGame() {\n    this.reset();\n    this.renderSnake();\n    this.createControls();\n    this.loop();\n  }\n\n  reset() {\n    this.collision = false;\n    this.score = 0;\n    this.stage.setMode(GAME_MODES.STARTED);\n  }\n\n  loop() {\n    if (this.collision) {\n      this.stopGame();\n      return;\n    }\n    const fpsInterval = 1000 / this.fps;\n    const currentTime = Date.now();\n    const elapsedTime = currentTime - this.lastTime;\n    this.requestedFrame = window.requestAnimationFrame(() => {\n      if (elapsedTime > fpsInterval) {\n        this.update();\n        this.lastTime = currentTime - elapsedTime % fpsInterval;\n      }\n      this.loop();\n    });\n  }\n\n  update() {\n    this.checkApple();\n    this.renderStage();\n    this.move();\n    this.checkCollisions();\n  }\n\n  renderStage() {\n    this.stage.score = this.score;\n    this.stage.render();\n  }\n\n  move() {\n    this.snake.move();\n    this.snake.render();\n  }\n\n  stopGame() {\n    window.cancelAnimationFrame(this.requestedFrame);\n    this.stage.setMode(GAME_MODES.OVER);\n    this.controls.clear();\n  }\n\n  renderSnake() {\n    const { canvas, cellSize } = this.stage;\n    this.snake = Snake.create({\n      canvas,\n      cellSize\n    });\n  }\n\n  checkApple() {\n    const { col, row } = this.snake.head;\n    if (this.stage.isEat({ col, row })) {\n      this.snake.grow();\n      this.score += 1;\n      this.stage.updateApple();\n    }\n  }\n\n  checkCollisions() {\n    const { col, row } = this.snake.head;\n    this.collision =\n      this.checkStageCollision(col, row) || this.snake.checkSelfCollision();\n  }\n\n  checkStageCollision(col, row) {\n    return (\n      col >= this.stage.widthInCells ||\n      row >= this.stage.heightInCells ||\n      col < 0 ||\n      row < 0\n    );\n  }\n\n  setDirection(dir) {\n    this.snake.setDirection(dir);\n  }\n\n  createControls() {\n    this.constrols = ControlsFactory.bootstrap(\n      this.setDirection,\n      this.container\n    );\n  }\n}\n","import { Game } from './game.js';\nconst body = document.querySelector('body');\nGame.create(body);\n","export const getCellColor = col => {\n  let color = 'white';\n  if (col % 2 === 0) {\n    color = 'white';\n  }\n  return color;\n};\n\nexport const normalizeScore = score => {\n  if (score < 10) {\n    return `00${score}`;\n  }\n  if (score < 100) {\n    return `0${score}`;\n  }\n  return `${score}`;\n};\n\nexport const sizeGenerator = ({ width, height, scale }) => {\n  const CELL_COUNT = 16;\n  const cellSize = Math.floor(width / CELL_COUNT);\n  const adjustedWidth = cellSize * CELL_COUNT;\n  const adjustedHeight = Math.floor(height / cellSize) * cellSize;\n  return {\n    cellSize,\n    height: adjustedHeight,\n    width: adjustedWidth,\n    scale\n  };\n};\n","/* RGB */\nexport const ERROR = 'rgba(226, 21, 0, 1);';\nexport const ACCENT = 'rgba(68, 3, 129, 1)';\nexport const MAIN = 'rgba(9, 255, 0, 0.644)';\nexport const SECONDARY = 'rgba(48, 216, 245, 0.753)';\nexport const THIRDARY = 'rgba(48, 216, 245, 0.432)';\n","import { UAParser } from 'ua-parser-js';\n\nconst OS = {\n  IOS: 'iOS',\n  ANDROID: 'Android',\n  MAC_OS: 'Mac OS'\n};\nexport class PlatformParser {\n  static create() {\n    return new PlatformParser();\n  }\n\n  constructor() {\n    this.uaParser = new UAParser();\n    this.result = this.uaParser.getResult();\n  }\n\n  getOs() {\n    console.log(this.result.os);\n    return this.result.os.name;\n  }\n\n  isTouchSupports() {\n    return this.getOs() === OS.IOS || this.getOs() === OS.ANDROID;\n  }\n}\n","export class Screen {\n  static getViewportSize() {\n    const MAX_WIDTH = 1280;\n    const MAX_HEIGHT = 1280;\n    const scale = window.devicePixelRatio;\n    console.log(scale);\n    return {\n      width: Math.min(window.innerWidth, MAX_WIDTH),\n      height: Math.min(window.innerHeight, MAX_HEIGHT),\n      scale\n    };\n  }\n}\n"],"sourceRoot":""}