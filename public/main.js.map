{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/ua-parser-js/src/ua-parser.js","webpack:///./src/utils/palette.js","webpack:///./src/components/cell.js","webpack:///./src/components/apple.js","webpack:///./src/components/gameField.js","webpack:///./src/components/text.js","webpack:///./src/utils/converters.js","webpack:///./src/components/score.js","webpack:///./src/components/notificationScreen.js","webpack:///./src/utils/screen.js","webpack:///./src/components/stage.js","webpack:///./src/components/snake.js","webpack:///./src/utils/platformParser.js","webpack:///./src/controls/baseControls.js","webpack:///./src/controls/keyboardControls.js","webpack:///./src/controls/touchControls.js","webpack:///./src/controls/controlsFactory.js","webpack:///./src/game.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","window","undefined","MODEL","NAME","TYPE","VENDOR","VERSION","MOBILE","TABLET","SMARTTV","util","extend","regexes","extensions","mergedRegexes","length","concat","has","str1","str2","toLowerCase","indexOf","lowerize","str","major","version","replace","split","trim","mapper","rgx","ua","arrays","j","k","q","matches","match","regex","props","exec","this","test","map","maps","browser","oldsafari","device","amazon","model","sprint","vendor","os","windows","cpu","engine","UAParser","uastring","getResult","navigator","userAgent","rgxmap","getBrowser","getCPU","architecture","getDevice","type","getEngine","getOS","getUA","setUA","BROWSER","MAJOR","CPU","ARCHITECTURE","DEVICE","CONSOLE","WEARABLE","EMBEDDED","ENGINE","OS","$","jQuery","Zepto","parser","set","result","prop","theme","bg","apple","snake","Cell","canvas","col","row","w","h","scale","bgColor","ctx","getContext","x","y","color","cell","render","options","fillStyle","fillRect","strokeStyle","strokeRect","setDefaultColor","Apple","intervalId","clearInterval","setInterval","GameField","width","height","cellSize","heightInCells","Math","floor","widthInCells","stage","drawField","Text","textContent","textColor","textAlign","score","font","fillText","align","normalizeScore","Score","NotificationScreen","onClick","clickHandler","screen","addEventListeners","drawBackground","renderText","text","removeEventListener","addEventListener","Screen","devicePixelRatio","min","innerWidth","innerHeight","GAME_MODES","Stage","root","onWelcomeScreenClick","adjustedWidth","getViewportSize","init","gameMode","ceil","random","field","checkApple","appleCoords","getRandomCell","updateApple","renderApple","createCanvas","notificationScreen","document","createElement","style","appendChild","drawScore","renderWelcomeScreen","renderGameOverScreen","DIRECTIONS","Snake","onMove","onSelfCollision","direction","_canvas","_cellSize","_direction","dir","_segments","createSegment","hasCollision","head","isDirectionValid","getNewHeadCoordinates","push","forEach","segment","createWithColor","unshift","pop","newDir","PlatformParser","uaParser","console","log","getOs","BaseControls","onSetDirection","target","Error","KEYS","KeyboardControls","setDirection","controls","e","TouchControls","handelToushStart","handelTouchEnd","touch","touches","pageX","pageY","startCoords","changedTouches","endCoords","dX","calcDelta","dY","abs","setHorisontalDirection","setVerticalDirection","prev","current","ControlsFactory","isTouchSupports","bootstrap","clear","Game","collision","fps","lastTime","Date","now","mp","game","createGameContainer","createStage","fullscreenify","scrollIntoView","container","classList","add","append","startGame","reset","renderSnake","createControls","loop","setMode","stopGame","fpsInterval","currentTime","elapsedTime","requestedFrame","requestAnimationFrame","update","renderStage","move","checkCollisions","cancelAnimationFrame","isEat","grow","checkStageCollision","checkSelfCollision","body","querySelector"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","/*!\n * UAParser.js v0.7.21\n * Lightweight JavaScript-based User-Agent string parser\n * https://github.com/faisalman/ua-parser-js\n *\n * Copyright © 2012-2019 Faisal Salman <f@faisalman.com>\n * Licensed under MIT License\n */\n\n(function (window, undefined) {\n\n    'use strict';\n\n    //////////////\n    // Constants\n    /////////////\n\n\n    var LIBVERSION  = '0.7.21',\n        EMPTY       = '',\n        UNKNOWN     = '?',\n        FUNC_TYPE   = 'function',\n        UNDEF_TYPE  = 'undefined',\n        OBJ_TYPE    = 'object',\n        STR_TYPE    = 'string',\n        MAJOR       = 'major', // deprecated\n        MODEL       = 'model',\n        NAME        = 'name',\n        TYPE        = 'type',\n        VENDOR      = 'vendor',\n        VERSION     = 'version',\n        ARCHITECTURE= 'architecture',\n        CONSOLE     = 'console',\n        MOBILE      = 'mobile',\n        TABLET      = 'tablet',\n        SMARTTV     = 'smarttv',\n        WEARABLE    = 'wearable',\n        EMBEDDED    = 'embedded';\n\n\n    ///////////\n    // Helper\n    //////////\n\n\n    var util = {\n        extend : function (regexes, extensions) {\n            var mergedRegexes = {};\n            for (var i in regexes) {\n                if (extensions[i] && extensions[i].length % 2 === 0) {\n                    mergedRegexes[i] = extensions[i].concat(regexes[i]);\n                } else {\n                    mergedRegexes[i] = regexes[i];\n                }\n            }\n            return mergedRegexes;\n        },\n        has : function (str1, str2) {\n          if (typeof str1 === \"string\") {\n            return str2.toLowerCase().indexOf(str1.toLowerCase()) !== -1;\n          } else {\n            return false;\n          }\n        },\n        lowerize : function (str) {\n            return str.toLowerCase();\n        },\n        major : function (version) {\n            return typeof(version) === STR_TYPE ? version.replace(/[^\\d\\.]/g,'').split(\".\")[0] : undefined;\n        },\n        trim : function (str) {\n          return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n        }\n    };\n\n\n    ///////////////\n    // Map helper\n    //////////////\n\n\n    var mapper = {\n\n        rgx : function (ua, arrays) {\n\n            var i = 0, j, k, p, q, matches, match;\n\n            // loop through all regexes maps\n            while (i < arrays.length && !matches) {\n\n                var regex = arrays[i],       // even sequence (0,2,4,..)\n                    props = arrays[i + 1];   // odd sequence (1,3,5,..)\n                j = k = 0;\n\n                // try matching uastring with regexes\n                while (j < regex.length && !matches) {\n\n                    matches = regex[j++].exec(ua);\n\n                    if (!!matches) {\n                        for (p = 0; p < props.length; p++) {\n                            match = matches[++k];\n                            q = props[p];\n                            // check if given property is actually array\n                            if (typeof q === OBJ_TYPE && q.length > 0) {\n                                if (q.length == 2) {\n                                    if (typeof q[1] == FUNC_TYPE) {\n                                        // assign modified match\n                                        this[q[0]] = q[1].call(this, match);\n                                    } else {\n                                        // assign given value, ignore regex match\n                                        this[q[0]] = q[1];\n                                    }\n                                } else if (q.length == 3) {\n                                    // check whether function or regex\n                                    if (typeof q[1] === FUNC_TYPE && !(q[1].exec && q[1].test)) {\n                                        // call function (usually string mapper)\n                                        this[q[0]] = match ? q[1].call(this, match, q[2]) : undefined;\n                                    } else {\n                                        // sanitize match using given regex\n                                        this[q[0]] = match ? match.replace(q[1], q[2]) : undefined;\n                                    }\n                                } else if (q.length == 4) {\n                                        this[q[0]] = match ? q[3].call(this, match.replace(q[1], q[2])) : undefined;\n                                }\n                            } else {\n                                this[q] = match ? match : undefined;\n                            }\n                        }\n                    }\n                }\n                i += 2;\n            }\n        },\n\n        str : function (str, map) {\n\n            for (var i in map) {\n                // check if array\n                if (typeof map[i] === OBJ_TYPE && map[i].length > 0) {\n                    for (var j = 0; j < map[i].length; j++) {\n                        if (util.has(map[i][j], str)) {\n                            return (i === UNKNOWN) ? undefined : i;\n                        }\n                    }\n                } else if (util.has(map[i], str)) {\n                    return (i === UNKNOWN) ? undefined : i;\n                }\n            }\n            return str;\n        }\n    };\n\n\n    ///////////////\n    // String map\n    //////////////\n\n\n    var maps = {\n\n        browser : {\n            oldsafari : {\n                version : {\n                    '1.0'   : '/8',\n                    '1.2'   : '/1',\n                    '1.3'   : '/3',\n                    '2.0'   : '/412',\n                    '2.0.2' : '/416',\n                    '2.0.3' : '/417',\n                    '2.0.4' : '/419',\n                    '?'     : '/'\n                }\n            }\n        },\n\n        device : {\n            amazon : {\n                model : {\n                    'Fire Phone' : ['SD', 'KF']\n                }\n            },\n            sprint : {\n                model : {\n                    'Evo Shift 4G' : '7373KT'\n                },\n                vendor : {\n                    'HTC'       : 'APA',\n                    'Sprint'    : 'Sprint'\n                }\n            }\n        },\n\n        os : {\n            windows : {\n                version : {\n                    'ME'        : '4.90',\n                    'NT 3.11'   : 'NT3.51',\n                    'NT 4.0'    : 'NT4.0',\n                    '2000'      : 'NT 5.0',\n                    'XP'        : ['NT 5.1', 'NT 5.2'],\n                    'Vista'     : 'NT 6.0',\n                    '7'         : 'NT 6.1',\n                    '8'         : 'NT 6.2',\n                    '8.1'       : 'NT 6.3',\n                    '10'        : ['NT 6.4', 'NT 10.0'],\n                    'RT'        : 'ARM'\n                }\n            }\n        }\n    };\n\n\n    //////////////\n    // Regex map\n    /////////////\n\n\n    var regexes = {\n\n        browser : [[\n\n            // Presto based\n            /(opera\\smini)\\/([\\w\\.-]+)/i,                                       // Opera Mini\n            /(opera\\s[mobiletab]+).+version\\/([\\w\\.-]+)/i,                      // Opera Mobi/Tablet\n            /(opera).+version\\/([\\w\\.]+)/i,                                     // Opera > 9.80\n            /(opera)[\\/\\s]+([\\w\\.]+)/i                                          // Opera < 9.80\n            ], [NAME, VERSION], [\n\n            /(opios)[\\/\\s]+([\\w\\.]+)/i                                          // Opera mini on iphone >= 8.0\n            ], [[NAME, 'Opera Mini'], VERSION], [\n\n            /\\s(opr)\\/([\\w\\.]+)/i                                               // Opera Webkit\n            ], [[NAME, 'Opera'], VERSION], [\n\n            // Mixed\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /(lunascape|maxthon|netfront|jasmine|blazer)[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Lunascape/Maxthon/Netfront/Jasmine/Blazer\n            // Trident based\n            /(avant\\s|iemobile|slim)(?:browser)?[\\/\\s]?([\\w\\.]*)/i,\n                                                                                // Avant/IEMobile/SlimBrowser\n            /(bidubrowser|baidubrowser)[\\/\\s]?([\\w\\.]+)/i,                      // Baidu Browser\n            /(?:ms|\\()(ie)\\s([\\w\\.]+)/i,                                        // Internet Explorer\n\n            // Webkit/KHTML based\n            /(rekonq)\\/([\\w\\.]*)/i,                                             // Rekonq\n            /(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\\/([\\w\\.-]+)/i\n                                                                                // Chromium/Flock/RockMelt/Midori/Epiphany/Silk/Skyfire/Bolt/Iron/Iridium/PhantomJS/Bowser/QupZilla/Falkon\n            ], [NAME, VERSION], [\n\n            /(konqueror)\\/([\\w\\.]+)/i                                           // Konqueror\n            ], [[NAME, 'Konqueror'], VERSION], [\n\n            /(trident).+rv[:\\s]([\\w\\.]+).+like\\sgecko/i                         // IE11\n            ], [[NAME, 'IE'], VERSION], [\n\n            /(edge|edgios|edga|edg)\\/((\\d+)?[\\w\\.]+)/i                          // Microsoft Edge\n            ], [[NAME, 'Edge'], VERSION], [\n\n            /(yabrowser)\\/([\\w\\.]+)/i                                           // Yandex\n            ], [[NAME, 'Yandex'], VERSION], [\n\n            /(Avast)\\/([\\w\\.]+)/i                                               // Avast Secure Browser\n            ], [[NAME, 'Avast Secure Browser'], VERSION], [\n\n            /(AVG)\\/([\\w\\.]+)/i                                                 // AVG Secure Browser\n            ], [[NAME, 'AVG Secure Browser'], VERSION], [\n\n            /(puffin)\\/([\\w\\.]+)/i                                              // Puffin\n            ], [[NAME, 'Puffin'], VERSION], [\n\n            /(focus)\\/([\\w\\.]+)/i                                               // Firefox Focus\n            ], [[NAME, 'Firefox Focus'], VERSION], [\n\n            /(opt)\\/([\\w\\.]+)/i                                                 // Opera Touch\n            ], [[NAME, 'Opera Touch'], VERSION], [\n\n            /((?:[\\s\\/])uc?\\s?browser|(?:juc.+)ucweb)[\\/\\s]?([\\w\\.]+)/i         // UCBrowser\n            ], [[NAME, 'UCBrowser'], VERSION], [\n\n            /(comodo_dragon)\\/([\\w\\.]+)/i                                       // Comodo Dragon\n            ], [[NAME, /_/g, ' '], VERSION], [\n\n            /(windowswechat qbcore)\\/([\\w\\.]+)/i                                // WeChat Desktop for Windows Built-in Browser\n            ], [[NAME, 'WeChat(Win) Desktop'], VERSION], [\n\n            /(micromessenger)\\/([\\w\\.]+)/i                                      // WeChat\n            ], [[NAME, 'WeChat'], VERSION], [\n\n            /(brave)\\/([\\w\\.]+)/i                                               // Brave browser\n            ], [[NAME, 'Brave'], VERSION], [\n\n            /(qqbrowserlite)\\/([\\w\\.]+)/i                                       // QQBrowserLite\n            ], [NAME, VERSION], [\n\n            /(QQ)\\/([\\d\\.]+)/i                                                  // QQ, aka ShouQ\n            ], [NAME, VERSION], [\n\n            /m?(qqbrowser)[\\/\\s]?([\\w\\.]+)/i                                    // QQBrowser\n            ], [NAME, VERSION], [\n\n            /(baiduboxapp)[\\/\\s]?([\\w\\.]+)/i                                    // Baidu App\n            ], [NAME, VERSION], [\n\n            /(2345Explorer)[\\/\\s]?([\\w\\.]+)/i                                   // 2345 Browser\n            ], [NAME, VERSION], [\n\n            /(MetaSr)[\\/\\s]?([\\w\\.]+)/i                                         // SouGouBrowser\n            ], [NAME], [\n\n            /(LBBROWSER)/i                                                      // LieBao Browser\n            ], [NAME], [\n\n            /xiaomi\\/miuibrowser\\/([\\w\\.]+)/i                                   // MIUI Browser\n            ], [VERSION, [NAME, 'MIUI Browser']], [\n\n            /;fbav\\/([\\w\\.]+);/i                                                // Facebook App for iOS & Android\n            ], [VERSION, [NAME, 'Facebook']], [\n\n            /safari\\s(line)\\/([\\w\\.]+)/i,                                       // Line App for iOS\n            /android.+(line)\\/([\\w\\.]+)\\/iab/i                                  // Line App for Android\n            ], [NAME, VERSION], [\n\n            /headlesschrome(?:\\/([\\w\\.]+)|\\s)/i                                 // Chrome Headless\n            ], [VERSION, [NAME, 'Chrome Headless']], [\n\n            /\\swv\\).+(chrome)\\/([\\w\\.]+)/i                                      // Chrome WebView\n            ], [[NAME, /(.+)/, '$1 WebView'], VERSION], [\n\n            /((?:oculus|samsung)browser)\\/([\\w\\.]+)/i\n            ], [[NAME, /(.+(?:g|us))(.+)/, '$1 $2'], VERSION], [                // Oculus / Samsung Browser\n\n            /android.+version\\/([\\w\\.]+)\\s+(?:mobile\\s?safari|safari)*/i        // Android Browser\n            ], [VERSION, [NAME, 'Android Browser']], [\n\n            /(sailfishbrowser)\\/([\\w\\.]+)/i                                     // Sailfish Browser\n            ], [[NAME, 'Sailfish Browser'], VERSION], [\n\n            /(chrome|omniweb|arora|[tizenoka]{5}\\s?browser)\\/v?([\\w\\.]+)/i\n                                                                                // Chrome/OmniWeb/Arora/Tizen/Nokia\n            ], [NAME, VERSION], [\n\n            /(dolfin)\\/([\\w\\.]+)/i                                              // Dolphin\n            ], [[NAME, 'Dolphin'], VERSION], [\n\n            /(qihu|qhbrowser|qihoobrowser|360browser)/i                         // 360\n            ], [[NAME, '360 Browser']], [\n\n            /((?:android.+)crmo|crios)\\/([\\w\\.]+)/i                             // Chrome for Android/iOS\n            ], [[NAME, 'Chrome'], VERSION], [\n\n            /(coast)\\/([\\w\\.]+)/i                                               // Opera Coast\n            ], [[NAME, 'Opera Coast'], VERSION], [\n\n            /fxios\\/([\\w\\.-]+)/i                                                // Firefox for iOS\n            ], [VERSION, [NAME, 'Firefox']], [\n\n            /version\\/([\\w\\.]+).+?mobile\\/\\w+\\s(safari)/i                       // Mobile Safari\n            ], [VERSION, [NAME, 'Mobile Safari']], [\n\n            /version\\/([\\w\\.]+).+?(mobile\\s?safari|safari)/i                    // Safari & Safari Mobile\n            ], [VERSION, NAME], [\n\n            /webkit.+?(gsa)\\/([\\w\\.]+).+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i  // Google Search Appliance on iOS\n            ], [[NAME, 'GSA'], VERSION], [\n\n            /webkit.+?(mobile\\s?safari|safari)(\\/[\\w\\.]+)/i                     // Safari < 3.0\n            ], [NAME, [VERSION, mapper.str, maps.browser.oldsafari.version]], [\n\n            /(webkit|khtml)\\/([\\w\\.]+)/i\n            ], [NAME, VERSION], [\n\n            // Gecko based\n            /(navigator|netscape)\\/([\\w\\.-]+)/i                                 // Netscape\n            ], [[NAME, 'Netscape'], VERSION], [\n            /(swiftfox)/i,                                                      // Swiftfox\n            /(icedragon|iceweasel|camino|chimera|fennec|maemo\\sbrowser|minimo|conkeror)[\\/\\s]?([\\w\\.\\+]+)/i,\n                                                                                // IceDragon/Iceweasel/Camino/Chimera/Fennec/Maemo/Minimo/Conkeror\n            /(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([\\w\\.-]+)$/i,\n\n                                                                                // Firefox/SeaMonkey/K-Meleon/IceCat/IceApe/Firebird/Phoenix\n            /(mozilla)\\/([\\w\\.]+).+rv\\:.+gecko\\/\\d+/i,                          // Mozilla\n\n            // Other\n            /(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\\/\\s]?([\\w\\.]+)/i,\n                                                                                // Polaris/Lynx/Dillo/iCab/Doris/Amaya/w3m/NetSurf/Sleipnir\n            /(links)\\s\\(([\\w\\.]+)/i,                                            // Links\n            /(gobrowser)\\/?([\\w\\.]*)/i,                                         // GoBrowser\n            /(ice\\s?browser)\\/v?([\\w\\._]+)/i,                                   // ICE Browser\n            /(mosaic)[\\/\\s]([\\w\\.]+)/i                                          // Mosaic\n            ], [NAME, VERSION]\n        ],\n\n        cpu : [[\n\n            /(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\\)]/i                     // AMD64\n            ], [[ARCHITECTURE, 'amd64']], [\n\n            /(ia32(?=;))/i                                                      // IA32 (quicktime)\n            ], [[ARCHITECTURE, util.lowerize]], [\n\n            /((?:i[346]|x)86)[;\\)]/i                                            // IA32\n            ], [[ARCHITECTURE, 'ia32']], [\n\n            // PocketPC mistakenly identified as PowerPC\n            /windows\\s(ce|mobile);\\sppc;/i\n            ], [[ARCHITECTURE, 'arm']], [\n\n            /((?:ppc|powerpc)(?:64)?)(?:\\smac|;|\\))/i                           // PowerPC\n            ], [[ARCHITECTURE, /ower/, '', util.lowerize]], [\n\n            /(sun4\\w)[;\\)]/i                                                    // SPARC\n            ], [[ARCHITECTURE, 'sparc']], [\n\n            /((?:avr32|ia64(?=;))|68k(?=\\))|arm(?:64|(?=v\\d+[;l]))|(?=atmel\\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i\n                                                                                // IA64, 68K, ARM/64, AVR/32, IRIX/64, MIPS/64, SPARC/64, PA-RISC\n            ], [[ARCHITECTURE, util.lowerize]]\n        ],\n\n        device : [[\n\n            /\\((ipad|playbook);[\\w\\s\\),;-]+(rim|apple)/i                        // iPad/PlayBook\n            ], [MODEL, VENDOR, [TYPE, TABLET]], [\n\n            /applecoremedia\\/[\\w\\.]+ \\((ipad)/                                  // iPad\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, TABLET]], [\n\n            /(apple\\s{0,1}tv)/i                                                 // Apple TV\n            ], [[MODEL, 'Apple TV'], [VENDOR, 'Apple'], [TYPE, SMARTTV]], [\n\n            /(archos)\\s(gamepad2?)/i,                                           // Archos\n            /(hp).+(touchpad)/i,                                                // HP TouchPad\n            /(hp).+(tablet)/i,                                                  // HP Tablet\n            /(kindle)\\/([\\w\\.]+)/i,                                             // Kindle\n            /\\s(nook)[\\w\\s]+build\\/(\\w+)/i,                                     // Nook\n            /(dell)\\s(strea[kpr\\s\\d]*[\\dko])/i                                  // Dell Streak\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /(kf[A-z]+)\\sbuild\\/.+silk\\//i                                      // Kindle Fire HD\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n            /(sd|kf)[0349hijorstuw]+\\sbuild\\/.+silk\\//i                         // Fire Phone\n            ], [[MODEL, mapper.str, maps.device.amazon.model], [VENDOR, 'Amazon'], [TYPE, MOBILE]], [\n            /android.+aft([bms])\\sbuild/i                                       // Fire TV\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, SMARTTV]], [\n\n            /\\((ip[honed|\\s\\w*]+);.+(apple)/i                                   // iPod/iPhone\n            ], [MODEL, VENDOR, [TYPE, MOBILE]], [\n            /\\((ip[honed|\\s\\w*]+);/i                                            // iPod/iPhone\n            ], [MODEL, [VENDOR, 'Apple'], [TYPE, MOBILE]], [\n\n            /(blackberry)[\\s-]?(\\w+)/i,                                         // BlackBerry\n            /(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\\s_-]?([\\w-]*)/i,\n                                                                                // BenQ/Palm/Sony-Ericsson/Acer/Asus/Dell/Meizu/Motorola/Polytron\n            /(hp)\\s([\\w\\s]+\\w)/i,                                               // HP iPAQ\n            /(asus)-?(\\w+)/i                                                    // Asus\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n            /\\(bb10;\\s(\\w+)/i                                                   // BlackBerry 10\n            ], [MODEL, [VENDOR, 'BlackBerry'], [TYPE, MOBILE]], [\n                                                                                // Asus Tablets\n            /android.+(transfo[prime\\s]{4,10}\\s\\w+|eeepc|slider\\s\\w+|nexus 7|padfone|p00c)/i\n            ], [MODEL, [VENDOR, 'Asus'], [TYPE, TABLET]], [\n\n            /(sony)\\s(tablet\\s[ps])\\sbuild\\//i,                                  // Sony\n            /(sony)?(?:sgp.+)\\sbuild\\//i\n            ], [[VENDOR, 'Sony'], [MODEL, 'Xperia Tablet'], [TYPE, TABLET]], [\n            /android.+\\s([c-g]\\d{4}|so[-l]\\w+)(?=\\sbuild\\/|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, MOBILE]], [\n\n            /\\s(ouya)\\s/i,                                                      // Ouya\n            /(nintendo)\\s([wids3u]+)/i                                          // Nintendo\n            ], [VENDOR, MODEL, [TYPE, CONSOLE]], [\n\n            /android.+;\\s(shield)\\sbuild/i                                      // Nvidia\n            ], [MODEL, [VENDOR, 'Nvidia'], [TYPE, CONSOLE]], [\n\n            /(playstation\\s[34portablevi]+)/i                                   // Playstation\n            ], [MODEL, [VENDOR, 'Sony'], [TYPE, CONSOLE]], [\n\n            /(sprint\\s(\\w+))/i                                                  // Sprint Phones\n            ], [[VENDOR, mapper.str, maps.device.sprint.vendor], [MODEL, mapper.str, maps.device.sprint.model], [TYPE, MOBILE]], [\n\n            /(htc)[;_\\s-]+([\\w\\s]+(?=\\)|\\sbuild)|\\w+)/i,                        // HTC\n            /(zte)-(\\w*)/i,                                                     // ZTE\n            /(alcatel|geeksphone|nexian|panasonic|(?=;\\s)sony)[_\\s-]?([\\w-]*)/i\n                                                                                // Alcatel/GeeksPhone/Nexian/Panasonic/Sony\n            ], [VENDOR, [MODEL, /_/g, ' '], [TYPE, MOBILE]], [\n\n            /(nexus\\s9)/i                                                       // HTC Nexus 9\n            ], [MODEL, [VENDOR, 'HTC'], [TYPE, TABLET]], [\n\n            /d\\/huawei([\\w\\s-]+)[;\\)]/i,\n            /(nexus\\s6p|vog-l29|ane-lx1|eml-l29)/i                              // Huawei\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, MOBILE]], [\n\n            /android.+(bah2?-a?[lw]\\d{2})/i                                     // Huawei MediaPad\n            ], [MODEL, [VENDOR, 'Huawei'], [TYPE, TABLET]], [\n\n            /(microsoft);\\s(lumia[\\s\\w]+)/i                                     // Microsoft Lumia\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /[\\s\\(;](xbox(?:\\sone)?)[\\s\\);]/i                                   // Microsoft Xbox\n            ], [MODEL, [VENDOR, 'Microsoft'], [TYPE, CONSOLE]], [\n            /(kin\\.[onetw]{3})/i                                                // Microsoft Kin\n            ], [[MODEL, /\\./g, ' '], [VENDOR, 'Microsoft'], [TYPE, MOBILE]], [\n\n                                                                                // Motorola\n            /\\s(milestone|droid(?:[2-4x]|\\s(?:bionic|x2|pro|razr))?:?(\\s4g)?)[\\w\\s]+build\\//i,\n            /mot[\\s-]?(\\w*)/i,\n            /(XT\\d{3,4}) build\\//i,\n            /(nexus\\s6)/i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, MOBILE]], [\n            /android.+\\s(mz60\\d|xoom[\\s2]{0,2})\\sbuild\\//i\n            ], [MODEL, [VENDOR, 'Motorola'], [TYPE, TABLET]], [\n\n            /hbbtv\\/\\d+\\.\\d+\\.\\d+\\s+\\([\\w\\s]*;\\s*(\\w[^;]*);([^;]*)/i            // HbbTV devices\n            ], [[VENDOR, util.trim], [MODEL, util.trim], [TYPE, SMARTTV]], [\n\n            /hbbtv.+maple;(\\d+)/i\n            ], [[MODEL, /^/, 'SmartTV'], [VENDOR, 'Samsung'], [TYPE, SMARTTV]], [\n\n            /\\(dtv[\\);].+(aquos)/i                                              // Sharp\n            ], [MODEL, [VENDOR, 'Sharp'], [TYPE, SMARTTV]], [\n\n            /android.+((sch-i[89]0\\d|shw-m380s|gt-p\\d{4}|gt-n\\d+|sgh-t8[56]9|nexus 10))/i,\n            /((SM-T\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, TABLET]], [                  // Samsung\n            /smart-tv.+(samsung)/i\n            ], [VENDOR, [TYPE, SMARTTV], MODEL], [\n            /((s[cgp]h-\\w+|gt-\\w+|galaxy\\snexus|sm-\\w[\\w\\d]+))/i,\n            /(sam[sung]*)[\\s-]*(\\w+-?[\\w-]*)/i,\n            /sec-((sgh\\w+))/i\n            ], [[VENDOR, 'Samsung'], MODEL, [TYPE, MOBILE]], [\n\n            /sie-(\\w*)/i                                                        // Siemens\n            ], [MODEL, [VENDOR, 'Siemens'], [TYPE, MOBILE]], [\n\n            /(maemo|nokia).*(n900|lumia\\s\\d+)/i,                                // Nokia\n            /(nokia)[\\s_-]?([\\w-]*)/i\n            ], [[VENDOR, 'Nokia'], MODEL, [TYPE, MOBILE]], [\n\n            /android[x\\d\\.\\s;]+\\s([ab][1-7]\\-?[0178a]\\d\\d?)/i                   // Acer\n            ], [MODEL, [VENDOR, 'Acer'], [TYPE, TABLET]], [\n\n            /android.+([vl]k\\-?\\d{3})\\s+build/i                                 // LG Tablet\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, TABLET]], [\n            /android\\s3\\.[\\s\\w;-]{10}(lg?)-([06cv9]{3,4})/i                     // LG Tablet\n            ], [[VENDOR, 'LG'], MODEL, [TYPE, TABLET]], [\n            /(lg) netcast\\.tv/i                                                 // LG SmartTV\n            ], [VENDOR, MODEL, [TYPE, SMARTTV]], [\n            /(nexus\\s[45])/i,                                                   // LG\n            /lg[e;\\s\\/-]+(\\w*)/i,\n            /android.+lg(\\-?[\\d\\w]+)\\s+build/i\n            ], [MODEL, [VENDOR, 'LG'], [TYPE, MOBILE]], [\n\n            /(lenovo)\\s?(s(?:5000|6000)(?:[\\w-]+)|tab(?:[\\s\\w]+))/i             // Lenovo tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n            /android.+(ideatab[a-z0-9\\-\\s]+)/i                                  // Lenovo\n            ], [MODEL, [VENDOR, 'Lenovo'], [TYPE, TABLET]], [\n            /(lenovo)[_\\s-]?([\\w-]+)/i\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /linux;.+((jolla));/i                                               // Jolla\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /((pebble))app\\/[\\d\\.]+\\s/i                                         // Pebble\n            ], [VENDOR, MODEL, [TYPE, WEARABLE]], [\n\n            /android.+;\\s(oppo)\\s?([\\w\\s]+)\\sbuild/i                            // OPPO\n            ], [VENDOR, MODEL, [TYPE, MOBILE]], [\n\n            /crkey/i                                                            // Google Chromecast\n            ], [[MODEL, 'Chromecast'], [VENDOR, 'Google'], [TYPE, SMARTTV]], [\n\n            /android.+;\\s(glass)\\s\\d/i                                          // Google Glass\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, WEARABLE]], [\n\n            /android.+;\\s(pixel c)[\\s)]/i                                       // Google Pixel C\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, TABLET]], [\n\n            /android.+;\\s(pixel( [23])?( xl)?)[\\s)]/i                              // Google Pixel\n            ], [MODEL, [VENDOR, 'Google'], [TYPE, MOBILE]], [\n\n            /android.+;\\s(\\w+)\\s+build\\/hm\\1/i,                                 // Xiaomi Hongmi 'numeric' models\n            /android.+(hm[\\s\\-_]*note?[\\s_]*(?:\\d\\w)?)\\s+build/i,               // Xiaomi Hongmi\n            /android.+(mi[\\s\\-_]*(?:a\\d|one|one[\\s_]plus|note lte)?[\\s_]*(?:\\d?\\w?)[\\s_]*(?:plus)?)\\s+build/i,    \n                                                                                // Xiaomi Mi\n            /android.+(redmi[\\s\\-_]*(?:note)?(?:[\\s_]*[\\w\\s]+))\\s+build/i       // Redmi Phones\n            ], [[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, MOBILE]], [\n            /android.+(mi[\\s\\-_]*(?:pad)(?:[\\s_]*[\\w\\s]+))\\s+build/i            // Mi Pad tablets\n            ],[[MODEL, /_/g, ' '], [VENDOR, 'Xiaomi'], [TYPE, TABLET]], [\n            /android.+;\\s(m[1-5]\\snote)\\sbuild/i                                // Meizu\n            ], [MODEL, [VENDOR, 'Meizu'], [TYPE, MOBILE]], [\n            /(mz)-([\\w-]{2,})/i\n            ], [[VENDOR, 'Meizu'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+a000(1)\\s+build/i,                                        // OnePlus\n            /android.+oneplus\\s(a\\d{4})[\\s)]/i\n            ], [MODEL, [VENDOR, 'OnePlus'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(RCT[\\d\\w]+)\\s+build/i                            // RCA Tablets\n            ], [MODEL, [VENDOR, 'RCA'], [TYPE, TABLET]], [\n\n            /android.+[;\\/\\s]+(Venue[\\d\\s]{2,7})\\s+build/i                      // Dell Venue Tablets\n            ], [MODEL, [VENDOR, 'Dell'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Q[T|M][\\d\\w]+)\\s+build/i                         // Verizon Tablet\n            ], [MODEL, [VENDOR, 'Verizon'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(Barnes[&\\s]+Noble\\s+|BN[RT])(V?.*)\\s+build/i     // Barnes & Noble Tablet\n            ], [[VENDOR, 'Barnes & Noble'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s+(TM\\d{3}.*\\b)\\s+build/i                           // Barnes & Noble Tablet\n            ], [MODEL, [VENDOR, 'NuVision'], [TYPE, TABLET]], [\n\n            /android.+;\\s(k88)\\sbuild/i                                         // ZTE K Series Tablet\n            ], [MODEL, [VENDOR, 'ZTE'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(gen\\d{3})\\s+build.*49h/i                         // Swiss GEN Mobile\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, MOBILE]], [\n\n            /android.+[;\\/]\\s*(zur\\d{3})\\s+build/i                              // Swiss ZUR Tablet\n            ], [MODEL, [VENDOR, 'Swiss'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((Zeki)?TB.*\\b)\\s+build/i                         // Zeki Tablets\n            ], [MODEL, [VENDOR, 'Zeki'], [TYPE, TABLET]], [\n\n            /(android).+[;\\/]\\s+([YR]\\d{2})\\s+build/i,\n            /android.+[;\\/]\\s+(Dragon[\\-\\s]+Touch\\s+|DT)(\\w{5})\\sbuild/i        // Dragon Touch Tablet\n            ], [[VENDOR, 'Dragon Touch'], MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(NS-?\\w{0,9})\\sbuild/i                            // Insignia Tablets\n            ], [MODEL, [VENDOR, 'Insignia'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*((NX|Next)-?\\w{0,9})\\s+build/i                    // NextBook Tablets\n            ], [MODEL, [VENDOR, 'NextBook'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Xtreme\\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\\s+build/i\n            ], [[VENDOR, 'Voice'], MODEL, [TYPE, MOBILE]], [                    // Voice Xtreme Phones\n\n            /android.+[;\\/]\\s*(LVTEL\\-)?(V1[12])\\s+build/i                     // LvTel Phones\n            ], [[VENDOR, 'LvTel'], MODEL, [TYPE, MOBILE]], [\n\n            /android.+;\\s(PH-1)\\s/i\n            ], [MODEL, [VENDOR, 'Essential'], [TYPE, MOBILE]], [                // Essential PH-1\n\n            /android.+[;\\/]\\s*(V(100MD|700NA|7011|917G).*\\b)\\s+build/i          // Envizen Tablets\n            ], [MODEL, [VENDOR, 'Envizen'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Le[\\s\\-]+Pan)[\\s\\-]+(\\w{1,9})\\s+build/i          // Le Pan Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trio[\\s\\-]*.*)\\s+build/i                         // MachSpeed Tablets\n            ], [MODEL, [VENDOR, 'MachSpeed'], [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*(Trinity)[\\-\\s]*(T\\d{3})\\s+build/i                // Trinity Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /android.+[;\\/]\\s*TU_(1491)\\s+build/i                               // Rotor Tablets\n            ], [MODEL, [VENDOR, 'Rotor'], [TYPE, TABLET]], [\n\n            /android.+(KS(.+))\\s+build/i                                        // Amazon Kindle Tablets\n            ], [MODEL, [VENDOR, 'Amazon'], [TYPE, TABLET]], [\n\n            /android.+(Gigaset)[\\s\\-]+(Q\\w{1,9})\\s+build/i                      // Gigaset Tablets\n            ], [VENDOR, MODEL, [TYPE, TABLET]], [\n\n            /\\s(tablet|tab)[;\\/]/i,                                             // Unidentifiable Tablet\n            /\\s(mobile)(?:[;\\/]|\\ssafari)/i                                     // Unidentifiable Mobile\n            ], [[TYPE, util.lowerize], VENDOR, MODEL], [\n\n            /[\\s\\/\\(](smart-?tv)[;\\)]/i                                         // SmartTV\n            ], [[TYPE, SMARTTV]], [\n\n            /(android[\\w\\.\\s\\-]{0,9});.+build/i                                 // Generic Android Device\n            ], [MODEL, [VENDOR, 'Generic']]\n        ],\n\n        engine : [[\n\n            /windows.+\\sedge\\/([\\w\\.]+)/i                                       // EdgeHTML\n            ], [VERSION, [NAME, 'EdgeHTML']], [\n\n            /webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i                         // Blink\n            ], [VERSION, [NAME, 'Blink']], [\n\n            /(presto)\\/([\\w\\.]+)/i,                                             // Presto\n            /(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,     \n                                                                                // WebKit/Trident/NetFront/NetSurf/Amaya/Lynx/w3m/Goanna\n            /(khtml|tasman|links)[\\/\\s]\\(?([\\w\\.]+)/i,                          // KHTML/Tasman/Links\n            /(icab)[\\/\\s]([23]\\.[\\d\\.]+)/i                                      // iCab\n            ], [NAME, VERSION], [\n\n            /rv\\:([\\w\\.]{1,9}).+(gecko)/i                                       // Gecko\n            ], [VERSION, NAME]\n        ],\n\n        os : [[\n\n            // Windows based\n            /microsoft\\s(windows)\\s(vista|xp)/i                                 // Windows (iTunes)\n            ], [NAME, VERSION], [\n            /(windows)\\snt\\s6\\.2;\\s(arm)/i,                                     // Windows RT\n            /(windows\\sphone(?:\\sos)*)[\\s\\/]?([\\d\\.\\s\\w]*)/i,                   // Windows Phone\n            /(windows\\smobile|windows)[\\s\\/]?([ntce\\d\\.\\s]+\\w)/i\n            ], [NAME, [VERSION, mapper.str, maps.os.windows.version]], [\n            /(win(?=3|9|n)|win\\s9x\\s)([nt\\d\\.]+)/i\n            ], [[NAME, 'Windows'], [VERSION, mapper.str, maps.os.windows.version]], [\n\n            // Mobile/Embedded OS\n            /\\((bb)(10);/i                                                      // BlackBerry 10\n            ], [[NAME, 'BlackBerry'], VERSION], [\n            /(blackberry)\\w*\\/?([\\w\\.]*)/i,                                     // Blackberry\n            /(tizen|kaios)[\\/\\s]([\\w\\.]+)/i,                                    // Tizen/KaiOS\n            /(android|webos|palm\\sos|qnx|bada|rim\\stablet\\sos|meego|sailfish|contiki)[\\/\\s-]?([\\w\\.]*)/i\n                                                                                // Android/WebOS/Palm/QNX/Bada/RIM/MeeGo/Contiki/Sailfish OS\n            ], [NAME, VERSION], [\n            /(symbian\\s?os|symbos|s60(?=;))[\\/\\s-]?([\\w\\.]*)/i                  // Symbian\n            ], [[NAME, 'Symbian'], VERSION], [\n            /\\((series40);/i                                                    // Series 40\n            ], [NAME], [\n            /mozilla.+\\(mobile;.+gecko.+firefox/i                               // Firefox OS\n            ], [[NAME, 'Firefox OS'], VERSION], [\n\n            // Console\n            /(nintendo|playstation)\\s([wids34portablevu]+)/i,                   // Nintendo/Playstation\n\n            // GNU/Linux based\n            /(mint)[\\/\\s\\(]?(\\w*)/i,                                            // Mint\n            /(mageia|vectorlinux)[;\\s]/i,                                       // Mageia/VectorLinux\n            /(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\\/\\s-]?(?!chrom)([\\w\\.-]*)/i,\n                                                                                // Joli/Ubuntu/Debian/SUSE/Gentoo/Arch/Slackware\n                                                                                // Fedora/Mandriva/CentOS/PCLinuxOS/RedHat/Zenwalk/Linpus\n            /(hurd|linux)\\s?([\\w\\.]*)/i,                                        // Hurd/Linux\n            /(gnu)\\s?([\\w\\.]*)/i                                                // GNU\n            ], [NAME, VERSION], [\n\n            /(cros)\\s[\\w]+\\s([\\w\\.]+\\w)/i                                       // Chromium OS\n            ], [[NAME, 'Chromium OS'], VERSION],[\n\n            // Solaris\n            /(sunos)\\s?([\\w\\.\\d]*)/i                                            // Solaris\n            ], [[NAME, 'Solaris'], VERSION], [\n\n            // BSD based\n            /\\s([frentopc-]{0,4}bsd|dragonfly)\\s?([\\w\\.]*)/i                    // FreeBSD/NetBSD/OpenBSD/PC-BSD/DragonFly\n            ], [NAME, VERSION],[\n\n            /(haiku)\\s(\\w+)/i                                                   // Haiku\n            ], [NAME, VERSION],[\n\n            /cfnetwork\\/.+darwin/i,\n            /ip[honead]{2,4}(?:.*os\\s([\\w]+)\\slike\\smac|;\\sopera)/i             // iOS\n            ], [[VERSION, /_/g, '.'], [NAME, 'iOS']], [\n\n            /(mac\\sos\\sx)\\s?([\\w\\s\\.]*)/i,\n            /(macintosh|mac(?=_powerpc)\\s)/i                                    // Mac OS\n            ], [[NAME, 'Mac OS'], [VERSION, /_/g, '.']], [\n\n            // Other\n            /((?:open)?solaris)[\\/\\s-]?([\\w\\.]*)/i,                             // Solaris\n            /(aix)\\s((\\d)(?=\\.|\\)|\\s)[\\w\\.])*/i,                                // AIX\n            /(plan\\s9|minix|beos|os\\/2|amigaos|morphos|risc\\sos|openvms|fuchsia)/i,\n                                                                                // Plan9/Minix/BeOS/OS2/AmigaOS/MorphOS/RISCOS/OpenVMS/Fuchsia\n            /(unix)\\s?([\\w\\.]*)/i                                               // UNIX\n            ], [NAME, VERSION]\n        ]\n    };\n\n\n    /////////////////\n    // Constructor\n    ////////////////\n    var UAParser = function (uastring, extensions) {\n\n        if (typeof uastring === 'object') {\n            extensions = uastring;\n            uastring = undefined;\n        }\n\n        if (!(this instanceof UAParser)) {\n            return new UAParser(uastring, extensions).getResult();\n        }\n\n        var ua = uastring || ((window && window.navigator && window.navigator.userAgent) ? window.navigator.userAgent : EMPTY);\n        var rgxmap = extensions ? util.extend(regexes, extensions) : regexes;\n\n        this.getBrowser = function () {\n            var browser = { name: undefined, version: undefined };\n            mapper.rgx.call(browser, ua, rgxmap.browser);\n            browser.major = util.major(browser.version); // deprecated\n            return browser;\n        };\n        this.getCPU = function () {\n            var cpu = { architecture: undefined };\n            mapper.rgx.call(cpu, ua, rgxmap.cpu);\n            return cpu;\n        };\n        this.getDevice = function () {\n            var device = { vendor: undefined, model: undefined, type: undefined };\n            mapper.rgx.call(device, ua, rgxmap.device);\n            return device;\n        };\n        this.getEngine = function () {\n            var engine = { name: undefined, version: undefined };\n            mapper.rgx.call(engine, ua, rgxmap.engine);\n            return engine;\n        };\n        this.getOS = function () {\n            var os = { name: undefined, version: undefined };\n            mapper.rgx.call(os, ua, rgxmap.os);\n            return os;\n        };\n        this.getResult = function () {\n            return {\n                ua      : this.getUA(),\n                browser : this.getBrowser(),\n                engine  : this.getEngine(),\n                os      : this.getOS(),\n                device  : this.getDevice(),\n                cpu     : this.getCPU()\n            };\n        };\n        this.getUA = function () {\n            return ua;\n        };\n        this.setUA = function (uastring) {\n            ua = uastring;\n            return this;\n        };\n        return this;\n    };\n\n    UAParser.VERSION = LIBVERSION;\n    UAParser.BROWSER = {\n        NAME    : NAME,\n        MAJOR   : MAJOR, // deprecated\n        VERSION : VERSION\n    };\n    UAParser.CPU = {\n        ARCHITECTURE : ARCHITECTURE\n    };\n    UAParser.DEVICE = {\n        MODEL   : MODEL,\n        VENDOR  : VENDOR,\n        TYPE    : TYPE,\n        CONSOLE : CONSOLE,\n        MOBILE  : MOBILE,\n        SMARTTV : SMARTTV,\n        TABLET  : TABLET,\n        WEARABLE: WEARABLE,\n        EMBEDDED: EMBEDDED\n    };\n    UAParser.ENGINE = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n    UAParser.OS = {\n        NAME    : NAME,\n        VERSION : VERSION\n    };\n\n    ///////////\n    // Export\n    //////////\n\n\n    // check js environment\n    if (typeof(exports) !== UNDEF_TYPE) {\n        // nodejs env\n        if (typeof module !== UNDEF_TYPE && module.exports) {\n            exports = module.exports = UAParser;\n        }\n        exports.UAParser = UAParser;\n    } else {\n        // requirejs env (optional)\n        if (typeof(define) === 'function' && define.amd) {\n            define(function () {\n                return UAParser;\n            });\n        } else if (window) {\n            // browser env\n            window.UAParser = UAParser;\n        }\n    }\n\n    // jQuery/Zepto specific (optional)\n    // Note:\n    //   In AMD env the global scope should be kept clean, but jQuery is an exception.\n    //   jQuery always exports to global scope, unless jQuery.noConflict(true) is used,\n    //   and we should catch that.\n    var $ = window && (window.jQuery || window.Zepto);\n    if ($ && !$.ua) {\n        var parser = new UAParser();\n        $.ua = parser.getResult();\n        $.ua.get = function () {\n            return parser.getUA();\n        };\n        $.ua.set = function (uastring) {\n            parser.setUA(uastring);\n            var result = parser.getResult();\n            for (var prop in result) {\n                $.ua[prop] = result[prop];\n            }\n        };\n    }\n\n})(typeof window === 'object' ? window : this);\n","/* RGB */\nexport const ERROR = 'rgba(226, 21, 0, 1);';\nexport const ACCENT = 'rgb(126, 0, 245)';\nexport const MAIN = 'rgb(72, 253, 0)';\nexport const SECONDARY = 'rgba(48, 216, 245, 0.753)';\nexport const THIRDARY = 'rgba(48, 216, 245, 0.432)';\nexport const BG_DARK = 'rgb(27, 27, 27)';\n\nexport const themeDark = {\n  bg: BG_DARK,\n  apple: ACCENT,\n  snake: MAIN\n};\n\nexport const theme = themeDark;\n","import { theme } from '../utils/palette';\n\nexport class Cell {\n  static createWithColor({ bgColor, ...options }) {\n    const cell = new Cell(options);\n    cell.color = bgColor;\n    cell.render();\n    return cell;\n  }\n\n  static create(options) {\n    const cell = new Cell(options);\n    cell.render();\n    return cell;\n  }\n\n  constructor({ canvas, col, row, w, h, scale, bgColor = theme.bg }) {\n    this.ctx = canvas.getContext('2d');\n    this.ctx.scale(scale, scale);\n    this.w = w;\n    this.h = h;\n    this.scale = scale;\n    this.col = col;\n    this.row = row;\n    this.x = col * this.w;\n    this.y = row * this.h;\n    this.color = bgColor;\n  }\n\n  /**\n   * *\n   * @param {string} color\n   */\n  set color(color) {\n    this.ctx.fillStyle = color;\n  }\n\n  get color() {\n    return this.ctx.fillStyle;\n  }\n\n  render() {\n    this.fillStyle = this.bgColor;\n    this.ctx.fillRect(this.x, this.y, this.w, this.h);\n    this.ctx.strokeStyle = theme.bg;\n    this.ctx.strokeRect(this.x, this.y, this.w, this.h);\n  }\n\n  clear() {\n    this.setDefaultColor();\n    this.render();\n  }\n\n  setDefaultColor() {\n    this.ctx.fillStyle = theme.bg;\n  }\n}\n","import { Cell } from './cell';\nimport { theme } from '../utils/palette';\n\nexport class Apple extends Cell {\n  static create(options) {\n    const apple = new Apple(options);\n    apple.render();\n    return apple;\n  }\n\n  constructor(options) {\n    super({ ...options, bgColor: theme.apple });\n    this.intervalId = null;\n  }\n\n  startShineInterval() {\n    window.clearInterval(this.intervalId);\n    this.intervalId = setInterval(() => {\n      this.bgColor = 'yellow';\n    }, 100);\n  }\n}\n","import { Cell } from './cell';\nimport { Apple } from './apple';\n\n/**\n * @typedef Params\n * @param {DOMElement} mp\n * @param {Number} width\n * @param {Number} height\n */\n\nexport class GameField {\n  /**\n   * @param {DOMElement} mp\n   * @param {Number} width\n   * @param {Number} height\n   */\n  static create(options) {\n    const stage = new GameField({ ...options });\n    stage.render();\n    return stage;\n  }\n\n  /**\n   * @param {DOMElement} mp\n   * @param {Number} width\n   * @param {Number} height\n   */\n  constructor({ canvas, width, height, cellSize }) {\n    this.cellSize = cellSize;\n    this.canvas = canvas;\n    this.width = width;\n    this.height = height;\n    this.heightInCells = Math.floor(this.height / this.cellSize);\n    this.widthInCells = Math.floor(this.width / this.cellSize);\n  }\n\n  checkApple({ col, row }) {\n    return this.apple.col === col && this.apple.row === row;\n  }\n\n  /**\n   *\n   * @param {Object} coords\n   * @param {number} coords.col\n   * @param {number} coords.row\n   */\n  renderApple({ col, row }) {\n    this.apple = Apple.create({\n      canvas: this.canvas,\n      col,\n      row,\n      w: this.cellSize,\n      h: this.cellSize\n    });\n  }\n\n  render() {\n    this.drawField();\n  }\n\n  drawField() {\n    for (let row = 0; row < this.heightInCells; row += 1) {\n      for (let col = 0; col < this.widthInCells; col += 1) {\n        Cell.create({\n          canvas: this.canvas,\n          col,\n          row,\n          w: this.cellSize,\n          h: this.cellSize\n        });\n      }\n    }\n  }\n}\n","export class Text {\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  static create(options) {\n    const score = new Text(options);\n    score.render();\n    return score;\n  }\n\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  constructor({\n    canvas,\n    x = 0,\n    y = 0,\n    w,\n    h = 22,\n    textContent,\n    textColor = 'red',\n    textAlign = 'left'\n  }) {\n    this.ctx = canvas.getContext('2d');\n    this.x = x;\n    this.y = y;\n    this.h = h;\n    this.w = w;\n    this.textColor = textColor;\n    this.textContent = textContent;\n    this.textAlign = textAlign;\n  }\n\n  render() {\n    this.ctx.fillStyle = this.textColor;\n    this.ctx.font = `${this.h}px Helvetica`;\n    this.ctx.textAlign = this.textAlign;\n    this.ctx.fillText(this.textContent, this.x, this.y + this.h);\n  }\n\n  setText(textContent) {\n    this.textContent = textContent;\n  }\n\n  setAlign(align) {\n    this.textAlign = align;\n  }\n\n  setColor(color) {\n    this.textColor = color;\n  }\n}\n","export const getCellColor = col => {\n  let color = 'white';\n  if (col % 2 === 0) {\n    color = 'white';\n  }\n  return color;\n};\n\nexport const normalizeScore = score => {\n  if (score < 10) {\n    return `00${score}`;\n  }\n  if (score < 100) {\n    return `0${score}`;\n  }\n  return `${score}`;\n};\n\nexport const sizeGenerator = ({ width, height, scale }) => {\n  const CELL_COUNT = 16;\n  const cellSize = Math.floor(width / CELL_COUNT);\n  const adjustedWidth = cellSize * CELL_COUNT;\n  const adjustedHeight = Math.floor(height / cellSize) * cellSize;\n  return {\n    cellSize,\n    height: adjustedHeight,\n    width: adjustedWidth,\n    scale\n  };\n};\n","import { Text } from './text';\nimport { normalizeScore } from '../utils/converters';\nexport class Score extends Text {\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  static create(options) {\n    const score = new Score(options);\n    score.render();\n    return score;\n  }\n\n  /**\n   * @param {object} options\n   * @param {HTMLCanvasElement} options.root\n   */\n  constructor(options) {\n    super(options);\n    this.textContent = normalizeScore(options.score);\n    this.textColor = 'magenta';\n    this.x = 10;\n  }\n\n  setScore(score) {\n    this.textContent = normalizeScore(score);\n  }\n}\n","import { Text } from './text';\n\nexport class NotificationScreen {\n  static create(options) {\n    const screen = new NotificationScreen(options);\n    screen.addEventListeners();\n    screen.render();\n    return screen;\n  }\n\n  constructor({ canvas, w, h, textContent, textColor, onClick }) {\n    this.canvas = canvas;\n    this.ctx = canvas.getContext('2d');\n    this.x = 0;\n    this.y = 0;\n    this.w = w;\n    this.h = h;\n    this.textContent = textContent;\n    this.textColor = textColor;\n    this.onClick = onClick;\n    this.clickHandler = this.clickHandler.bind(this);\n  }\n\n  render() {\n    this.drawBackground();\n    this.renderText();\n  }\n\n  renderText() {\n    this.text = Text.create({\n      canvas: this.canvas,\n      x: this.w / 2,\n      y: this.h / 2,\n      textContent: this.textContent,\n      textAlign: 'center',\n      textColor: this.textColor\n    });\n  }\n\n  drawBackground() {\n    this.ctx.fillStyle = 'rgba(0,0,0, .2)';\n    this.ctx.fillRect(this.x, this.y, this.w, this.h);\n  }\n\n  clickHandler() {\n    this.onClick();\n    this.canvas.removeEventListener('click', this.clickHandler);\n  }\n\n  addEventListeners() {\n    this.canvas.addEventListener('click', this.clickHandler);\n  }\n}\n","export class Screen {\n  static getViewportSize() {\n    const MAX_WIDTH = 1280;\n    const MAX_HEIGHT = 1280;\n    const scale = window.devicePixelRatio;\n    return {\n      width: Math.min(window.innerWidth, MAX_WIDTH),\n      height: Math.min(window.innerHeight, MAX_HEIGHT),\n      scale\n    };\n  }\n}\n","import { GameField } from './gameField';\nimport { Score } from './score';\nimport { NotificationScreen } from './notificationScreen';\nimport { Screen } from '../utils/screen';\nimport { sizeGenerator } from '../utils/converters';\n/**\n * @typedef Params\n * @param {DOMElement} root\n * @param {Number} width\n * @param {Number} height\n */\n\nexport const GAME_MODES = {\n  PENDING: 0,\n  STARTED: 1,\n  OVER: 2\n};\nexport class Stage {\n  /**\n   * @param {DOMElement} root\n   */\n  static create(options) {\n    const sizes = sizeGenerator(Screen.getViewportSize());\n    const stage = new Stage({ ...options, ...sizes });\n    stage.init();\n    return stage;\n  }\n\n  /**\n   * @param {object} o\n   * @param {DOMElement} o.root\n   * @param {Number} o.width\n   * @param {Number} o.height\n   * @param {function} o.onWelcomeScreenClick\n   */\n  constructor({ root, onWelcomeScreenClick, width, height, cellSize, scale }) {\n    this.root = root;\n    this.mode = GAME_MODES.PENDING;\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.cellSize = cellSize;\n    this.onWelcomeScreenClick = onWelcomeScreenClick;\n  }\n\n  get heightInCells() {\n    return this.field.heightInCells;\n  }\n\n  get widthInCells() {\n    return this.field.widthInCells;\n  }\n\n  setMode(gameMode) {\n    this.mode = gameMode;\n    this.render();\n  }\n\n  getRandomCell() {\n    const col = Math.ceil(Math.random() * this.widthInCells - 1);\n    const row = Math.ceil(Math.random() * this.heightInCells - 1);\n    return { col, row };\n  }\n\n  isEat({ col, row }) {\n    return this.field.checkApple({ col, row });\n  }\n\n  updateApple() {\n    this.appleCoords = this.getRandomCell();\n  }\n\n  /**\n   *\n   * @param {Object} coords\n   * @param {number} coords.col\n   * @param {number} coords.row\n   */\n  renderApple() {\n    if (!this.appleCoords) {\n      this.updateApple();\n    }\n    this.field.renderApple(this.appleCoords);\n  }\n\n  /**\n   * @returns {DOMElement}\n   */\n  init() {\n    this.createCanvas();\n    this.render();\n  }\n\n  renderWelcomeScreen() {\n    this.notificationScreen = NotificationScreen.create({\n      canvas: this.canvas,\n      scale: this.scale,\n      w: this.width,\n      h: this.height,\n      textContent: 'START GAME',\n      onClick: this.onWelcomeScreenClick\n    });\n  }\n\n  createCanvas() {\n    this.canvas = document.createElement('canvas');\n    this.canvas.style.width = `${this.width}px`;\n    this.canvas.style.height = `${this.height}px`;\n    this.canvas.width = this.width * this.scale;\n    this.canvas.height = this.height * this.scale;\n    this.ctx = this.canvas.getContext('2d');\n    this.ctx.scale(this.scale, this.scale);\n    this.root.appendChild(this.canvas);\n  }\n\n  render() {\n    switch (this.mode) {\n      case GAME_MODES.STARTED:\n        this.drawField();\n        this.renderApple();\n        this.drawScore();\n        break;\n      case GAME_MODES.PENDING:\n        this.renderWelcomeScreen();\n        break;\n      case GAME_MODES.OVER:\n        this.renderGameOverScreen();\n        break;\n    }\n  }\n\n  drawScore() {\n    this.score = Score.create({ canvas: this.canvas, score: this.score });\n  }\n\n  renderGameOverScreen() {\n    this.notificationScreen = NotificationScreen.create({\n      canvas: this.canvas,\n      textContent: 'GAME OVER',\n      scale: this.scale,\n      w: this.width,\n      h: this.height,\n      textColor: 'magenta',\n      onClick: this.onWelcomeScreenClick\n    });\n  }\n\n  drawField() {\n    this.field = GameField.create({\n      canvas: this.canvas,\n      scale: this.scale,\n      width: this.width,\n      height: this.height,\n      cellSize: this.cellSize\n    });\n  }\n}\n","import { Cell } from './cell';\nimport { theme } from '../utils/palette';\n/**\n * Directions enum\n * @readonly\n * @enum {number}\n */\nexport const DIRECTIONS = {\n  RIGHT: 0,\n  LEFT: 1,\n  TOP: 2,\n  BOTTOM: 3\n};\n\nexport class Snake {\n  static create({ canvas, cellSize, onMove, dir }) {\n    const snake = new Snake({ canvas, cellSize, onMove, dir });\n    snake.init();\n    snake.render();\n    return snake;\n  }\n\n  constructor({\n    canvas,\n    cellSize,\n    onMove,\n    onSelfCollision,\n    direction = DIRECTIONS.RIGHT\n  }) {\n    this._canvas = canvas;\n    this._cellSize = cellSize;\n    this._direction = direction;\n\n    this.onMove = onMove;\n    this.onSelfCollision = onSelfCollision;\n  }\n\n  init() {\n    this._segments = [\n      this.createSegment(7, 5),\n      this.createSegment(6, 5),\n      this.createSegment(5, 5)\n    ];\n  }\n\n  checkSelfCollision() {\n    let hasCollision = false;\n    const [head] = this._segments;\n    for (let i = 1; i < this._segments.length; i += 1) {\n      if (\n        head.col === this._segments[i].col &&\n        head.row === this._segments[i].row\n      ) {\n        hasCollision = true;\n        break;\n      }\n    }\n    return hasCollision;\n  }\n\n  /**\n   * @param {DIRECTIONS} dir\n   */\n  setDirection(dir) {\n    if (this.isDirectionValid(dir)) {\n      this._direction = dir;\n    }\n  }\n\n  grow() {\n    const { col, row } = this.getNewHeadCoordinates();\n    this._segments.push(this.createSegment(col, row));\n  }\n\n  /**\n   * @return {Cell}\n   */\n  get head() {\n    return this._segments[0];\n  }\n\n  render() {\n    this._segments.forEach(segment => {\n      segment.render();\n    });\n  }\n\n  createSegment(col, row) {\n    const segment = Cell.createWithColor({\n      canvas: this._canvas,\n      col,\n      row,\n      w: this._cellSize,\n      h: this._cellSize,\n      bgColor: theme.snake\n    });\n    return segment;\n  }\n\n  move() {\n    const { col, row } = this.getNewHeadCoordinates();\n    this._segments.unshift(this.createSegment(col, row));\n    this._segments.pop();\n  }\n\n  getNewHeadCoordinates() {\n    let { col, row } = this.head;\n    switch (this._direction) {\n      case DIRECTIONS.TOP:\n        row -= 1;\n        break;\n      case DIRECTIONS.LEFT:\n        col -= 1;\n        break;\n      case DIRECTIONS.BOTTOM:\n        row += 1;\n        break;\n      default:\n        col += 1;\n    }\n\n    return { col, row };\n  }\n\n  /**\n   * @param {number} newDir\n   * @return {boolean}\n   */\n  isDirectionValid(newDir) {\n    if (\n      (this._direction === DIRECTIONS.RIGHT ||\n        this._direction === DIRECTIONS.LEFT) &&\n      (newDir === DIRECTIONS.LEFT || newDir === DIRECTIONS.RIGHT)\n    ) {\n      return false;\n    }\n    if (\n      (this._direction === DIRECTIONS.TOP ||\n        this._direction === DIRECTIONS.BOTTOM) &&\n      (newDir === DIRECTIONS.TOP || newDir === DIRECTIONS.BOTTOM)\n    ) {\n      return false;\n    }\n\n    return true;\n  }\n}\n","import { UAParser } from 'ua-parser-js';\n\nconst OS = {\n  IOS: 'iOS',\n  ANDROID: 'Android',\n  MAC_OS: 'Mac OS'\n};\nexport class PlatformParser {\n  static create() {\n    return new PlatformParser();\n  }\n\n  constructor() {\n    this.uaParser = new UAParser();\n    this.result = this.uaParser.getResult();\n  }\n\n  getOs() {\n    console.log(this.result.os);\n    return this.result.os.name;\n  }\n\n  isTouchSupports() {\n    return this.getOs() === OS.IOS || this.getOs() === OS.ANDROID;\n  }\n}\n","export class BaseControls {\n  constructor(onSetDirection, target) {\n    this.onSetDirection = onSetDirection;\n    this.target = target;\n  }\n\n  init() {\n    throw Error('@override');\n  }\n\n  clear() {\n    throw Error('@override');\n  }\n}\n","import { DIRECTIONS } from '../components/snake';\nimport { BaseControls } from './baseControls';\n\nconst KEYS = {\n  UP: 'w',\n  DOWN: 's',\n  LEFT: 'a',\n  RIGHT: 'd'\n};\nexport class KeyboardControls extends BaseControls {\n  static bootstrap(onSetDirection, target) {\n    const controls = new KeyboardControls(onSetDirection, target);\n    controls.init();\n    return controls;\n  }\n\n  constructor(...options) {\n    super(...options);\n    this.setDirection = this.setDirection.bind(this);\n  }\n\n  setDirection(e) {\n    switch (e.key) {\n      case KEYS.DOWN:\n        this.onSetDirection(DIRECTIONS.BOTTOM);\n        break;\n      case KEYS.UP:\n        this.onSetDirection(DIRECTIONS.TOP);\n        break;\n      case KEYS.RIGHT:\n        this.onSetDirection(DIRECTIONS.RIGHT);\n        break;\n      case KEYS.LEFT:\n        this.onSetDirection(DIRECTIONS.LEFT);\n        break;\n    }\n  }\n\n  init() {\n    this.target.addEventListener('keydown', this.setDirection);\n  }\n\n  clear() {\n    this.target.removeEventListener('keydown', this.setDirection);\n  }\n}\n","import { BaseControls } from './baseControls';\nimport { DIRECTIONS } from '../components/snake';\nexport class TouchControls extends BaseControls {\n  static bootstrap(onSetDirection, target) {\n    const controls = new TouchControls(onSetDirection, target);\n    controls.init();\n    return controls;\n  }\n\n  constructor(...options) {\n    super(...options);\n    this.handelToushStart = this.handelToushStart.bind(this);\n    this.handelTouchEnd = this.handelTouchEnd.bind(this);\n  }\n\n  handelToushStart(e) {\n    const [touch] = e.touches;\n    if (!touch) {\n      return;\n    }\n    const { pageX: x, pageY: y } = touch;\n    this.startCoords = { x, y };\n    console.log(this.startCoords);\n  }\n\n  handelTouchEnd(e) {\n    const [touch] = e.changedTouches;\n    if (!touch) {\n      return;\n    }\n    const { pageX: x, pageY: y } = touch;\n    this.endCoords = { x, y };\n    this.setDirection();\n  }\n\n  addEventListeners() {\n    console.log(this);\n    this.target.addEventListener('touchstart', this.handelToushStart);\n    this.target.addEventListener('touchend', this.handelTouchEnd);\n  }\n\n  setDirection() {\n    const dX = this.calcDelta(this.startCoords.x, this.endCoords.x);\n    const dY = this.calcDelta(this.startCoords.y, this.endCoords.y);\n    if (Math.abs(dX) > Math.abs(dY)) {\n      this.setHorisontalDirection(dX);\n      return;\n    }\n    this.setVerticalDirection(dY);\n  }\n\n  setHorisontalDirection(dX) {\n    if (dX > 0) {\n      this.onSetDirection(DIRECTIONS.LEFT);\n      return;\n    }\n    this.onSetDirection(DIRECTIONS.RIGHT);\n  }\n\n  setVerticalDirection(dY) {\n    if (dY > 0) {\n      this.onSetDirection(DIRECTIONS.TOP);\n      return;\n    }\n    this.onSetDirection(DIRECTIONS.BOTTOM);\n  }\n\n  calcDelta(prev, current) {\n    if (Math.abs(prev - current) < 10) {\n      return 0;\n    }\n    return prev - current;\n  }\n\n  init() {\n    this.addEventListeners();\n  }\n\n  clear() {\n    this.target.removeEventListener('touchstart', this.handelToushStart);\n    this.target.removeEventListener('touchend', this.handelTouchEnd);\n  }\n}\n","import { PlatformParser } from '../utils/platformParser';\nimport { KeyboardControls } from './keyboardControls';\nimport { TouchControls } from './touchControls';\nimport { BaseControls } from './baseControls';\nexport class ControlsFactory extends BaseControls {\n  static bootstrap(onSetDirection, target) {\n    const controls = new ControlsFactory(onSetDirection, target);\n    controls.init();\n    return controls;\n  }\n\n  init() {\n    const parser = PlatformParser.create();\n    const test = parser.isTouchSupports();\n    if (test) {\n      this.controls = TouchControls.bootstrap(this.onSetDirection, this.target);\n    } else {\n      this.controls = KeyboardControls.bootstrap(this.onSetDirection, document);\n    }\n  }\n\n  clear() {\n    console.log('CELARED');\n    this.controls.clear();\n  }\n}\n","import { Stage, GAME_MODES } from './components/stage';\nimport { Snake } from './components/snake';\nimport { ControlsFactory } from './controls/controlsFactory';\nimport './game.css';\n\nexport class Game {\n  /**\n   * @param {DOMElement} mp mountPoint where to render game\n   */\n  static create(mp) {\n    const game = new Game(mp);\n    game.init();\n    window.game = game;\n    return game;\n  }\n\n  /**\n   * @param {DOMElement} root mountPoint where to render game\n   */\n  constructor(root) {\n    this.root = root;\n    this.score = 0;\n    this.collision = false;\n    this.fps = 4;\n    this.lastTime = Date.now();\n\n    this.setDirection = this.setDirection.bind(this);\n  }\n\n  init() {\n    this.createGameContainer();\n    this.createStage();\n    this.fullscreenify();\n  }\n\n  fullscreenify() {\n    this.stage.canvas.scrollIntoView(true);\n  }\n\n  createGameContainer() {\n    this.container = document.createElement('div');\n    this.container.classList.add('game-container');\n    this.root.append(this.container);\n  }\n\n  createStage() {\n    this.stage = Stage.create({\n      root: this.container,\n      onWelcomeScreenClick: () => this.startGame()\n    });\n  }\n\n  startGame() {\n    this.reset();\n    this.renderSnake();\n    this.createControls();\n    this.loop();\n  }\n\n  reset() {\n    this.collision = false;\n    this.score = 0;\n    this.stage.setMode(GAME_MODES.STARTED);\n  }\n\n  loop() {\n    if (this.collision) {\n      this.stopGame();\n      return;\n    }\n    const fpsInterval = 1000 / this.fps;\n    const currentTime = Date.now();\n    const elapsedTime = currentTime - this.lastTime;\n    this.requestedFrame = window.requestAnimationFrame(() => {\n      if (elapsedTime > fpsInterval) {\n        this.update();\n        this.lastTime = currentTime - elapsedTime % fpsInterval;\n      }\n      this.loop();\n    });\n  }\n\n  update() {\n    this.checkApple();\n    this.renderStage();\n    this.move();\n    this.checkCollisions();\n  }\n\n  renderStage() {\n    this.stage.score = this.score;\n    this.stage.render();\n  }\n\n  move() {\n    this.snake.move();\n    this.snake.render();\n  }\n\n  stopGame() {\n    window.cancelAnimationFrame(this.requestedFrame);\n    this.stage.setMode(GAME_MODES.OVER);\n    this.controls.clear();\n  }\n\n  renderSnake() {\n    const { canvas, cellSize } = this.stage;\n    this.snake = Snake.create({\n      canvas,\n      cellSize\n    });\n  }\n\n  checkApple() {\n    const { col, row } = this.snake.head;\n    if (this.stage.isEat({ col, row })) {\n      this.snake.grow();\n      this.score += 1;\n      this.stage.updateApple();\n    }\n  }\n\n  checkCollisions() {\n    const { col, row } = this.snake.head;\n    this.collision =\n      this.checkStageCollision(col, row) || this.snake.checkSelfCollision();\n  }\n\n  checkStageCollision(col, row) {\n    return (\n      col >= this.stage.widthInCells ||\n      row >= this.stage.heightInCells ||\n      col < 0 ||\n      row < 0\n    );\n  }\n\n  setDirection(dir) {\n    this.snake.setDirection(dir);\n  }\n\n  createControls() {\n    this.controls = ControlsFactory.bootstrap(\n      this.setDirection,\n      this.container\n    );\n  }\n}\n","import { Game } from './game.js';\nconst body = document.querySelector('body');\nGame.create(body);\n"],"sourceRoot":""}